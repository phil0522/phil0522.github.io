import{a as k,b as I}from"./chunk-DLJK6BWM.js";import{I as b,J as h,K as D,S as O,T as S,d as M}from"./chunk-C54VLDTI.js";import{$a as w,Ab as d,Bb as s,Cb as p,Db as f,Ea as i,Pa as P,Rb as C,Ub as y,Za as l,_a as m,bb as u,cb as _,hb as r,ib as o,jb as v,ob as c,yb as x}from"./chunk-WXZFQYIJ.js";var T=(e,n)=>n.sessionId,g=(e,n)=>n.type;function F(e,n){if(e&1&&(r(0,"div",17)(1,"span",18),d(2,"Lunch"),o(),r(3,"span",19),d(4),o()()),e&2){let t=c().$implicit,a=c(3);i(4),s(a.formatPrice(t.lunchPrice))}}function $(e,n){if(e&1&&(r(0,"div",17)(1,"span",18),d(2,"Extended Care"),o(),r(3,"span",19),d(4),o()()),e&2){let t=c().$implicit,a=c(3);i(4),s(a.formatPrice(t.extendedCarePrice))}}function z(e,n){if(e&1&&(r(0,"span",2),d(1),o(),r(2,"span",3),d(3),o()),e&2){let t=c().$implicit,a=c(3);i(),f("",a.formatPrice(t.perStudentPrice)," \xD7 ",t.studentCount),i(2),s(a.formatPrice(t.sessionSubtotal))}}function N(e,n){if(e&1&&(v(0,"span",2),r(1,"span",3),d(2),o()),e&2){let t=c().$implicit,a=c(3);i(2),s(a.formatPrice(t.perStudentPrice))}}function A(e,n){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",21),d(3),o(),d(4),o(),r(5,"span",22),d(6),o()()),e&2){let t=n.$implicit,a=c(4);i(3),s(a.getDiscountIcon(t.type)),i(),p(" ",t.description," "),i(2),s(a.formatPrice(t.amount))}}function R(e,n){if(e&1&&(r(0,"div",13)(1,"div",15),d(2),o(),r(3,"div",16)(4,"div",17)(5,"span",18),d(6,"Base"),o(),r(7,"span",19),d(8),o()(),l(9,F,5,1,"div",17),l(10,$,5,1,"div",17),r(11,"div",20),l(12,z,4,3)(13,N,3,1),o(),u(14,A,7,3,"div",4,g),o()()),e&2){let t=n.$implicit,a=c(3);i(2),s(t.sessionName),i(6),s(a.formatPrice(t.basePrice)),i(),m(t.lunchPrice>0?9:-1),i(),m(t.extendedCarePrice>0?10:-1),i(2),m(t.studentCount>1?12:13),i(2),_(t.discounts)}}function j(e,n){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",21),d(3),o(),d(4),o(),r(5,"span",22),d(6),o()()),e&2){let t=n.$implicit,a=c(4);i(3),s(a.getDiscountIcon(t.type)),i(),p(" ",t.description," "),i(2),s(a.formatPrice(t.amount))}}function L(e,n){if(e&1&&(r(0,"div",14)(1,"div",23),d(2,"Discounts"),o(),u(3,j,7,3,"div",4,g),o()),e&2){let t=c(2);i(3),_(t.pricing.globalDiscounts)}}function Y(e,n){if(e&1&&(u(0,R,16,5,"div",13,T),l(2,L,5,0,"div",14)),e&2){let t=c();_(t.pricing.sessionBreakdowns),i(2),m(t.pricing.globalDiscounts&&t.pricing.globalDiscounts.length>0?2:-1)}}function q(e,n){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",21),d(3),o(),d(4),o(),r(5,"span",22),d(6),o()()),e&2){let t=n.$implicit,a=c(3);i(3),s(a.getDiscountIcon(t.type)),i(),p(" ",t.description," "),i(2),s(a.formatPrice(t.amount))}}function G(e,n){if(e&1&&(r(0,"div",24)(1,"span",2),d(2,"Subtotal"),o(),r(3,"span",3),d(4),o()(),u(5,q,7,3,"div",4,g)),e&2){let t=c(),a=c();i(4),s(a.formatPrice(t.pricing.subtotal)),i(),_(t.pricing.discounts)}}function H(e,n){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",21),d(3,"\u{1F39F}\uFE0F"),o(),d(4," Coupon Credit "),o(),r(5,"span",22),d(6),o()()),e&2){let t=c(),a=c();i(6),p("-",a.formatPrice(t.couponCredit))}}function J(e,n){if(e&1&&(r(0,"div",5)(1,"span",2),d(2,"Paid"),o(),r(3,"span",25),d(4),o()()),e&2){let t=c(),a=c();i(4),p("-",a.formatPrice(t.totalPaid))}}function K(e,n){if(e&1&&(r(0,"div",6)(1,"span",2),d(2,"Refunded"),o(),r(3,"span",26),d(4),o()()),e&2){let t=c(),a=c();i(4),p("+",a.formatPrice(t.totalRefunded))}}function Q(e,n){if(e&1&&(r(0,"div",24)(1,"span",2),d(2),o(),r(3,"span",3),d(4),o()()),e&2){let t=n.$implicit,a=c(3);x("fee",t.amount>0)("credit",t.amount<0),i(2),s(t.description),i(),x("fee-value",t.amount>0)("credit-value",t.amount<0),i(),f(" ",t.amount>=0?"+":"","",a.formatPrice(t.amount)," ")}}function U(e,n){if(e&1&&u(0,Q,5,11,"div",27,w),e&2){let t=c();_(t.processingFees)}}function V(e,n){if(e&1&&(r(0,"div",9)(1,"span",2)(2,"span",21),d(3,"\u{1F4B5}"),o(),d(4," Pay with Cash (3% off) "),o(),r(5,"span",28),d(6),o()()),e&2){let t=c(2);i(6),s(t.formatPrice(t.cashAmountDue()))}}function W(e,n){e&1&&(r(0,"div",10),d(1,"Paid in Full"),o())}function X(e,n){if(e&1&&(r(0,"div",11),d(1),o()),e&2){let t=c(),a=c();i(),p("Refund of ",a.formatPrice(a.Math.abs(t.amountDue))," due to customer")}}function Z(e,n){if(e&1&&(r(0,"div",12),d(1),o()),e&2){let t=c(2);i(),p("You saved ",t.formatPrice(t.totalSavings()),"!")}}function tt(e,n){if(e&1&&(r(0,"div",0),l(1,Y,3,1)(2,G,7,1),r(3,"div",1)(4,"span",2),d(5,"Order Total"),o(),r(6,"span",3),d(7),o()(),l(8,H,7,1,"div",4),l(9,J,5,1,"div",5),l(10,K,5,1,"div",6),l(11,U,2,0),v(12,"div",7),r(13,"div",8)(14,"span",2),d(15),o(),r(16,"span",3),d(17),o()(),l(18,V,7,1,"div",9),l(19,W,2,0,"div",10),l(20,X,2,1,"div",11),l(21,Z,2,1,"div",12),o()),e&2){let t=n,a=c();i(),m(a.hasBreakdowns()?1:2),i(6),s(a.formatPrice(a.orderTotal())),i(),m(t.couponCredit>0?8:-1),i(),m(t.totalPaid>0?9:-1),i(),m(t.totalRefunded>0?10:-1),i(),m(t.processingFees&&t.processingFees.length>0?11:-1),i(4),s(t.amountDue<0?"Refund Due":"Amount Due"),i(),x("paid-in-full",t.amountDue===0)("refund-due",t.amountDue<0),i(),p(" ",t.amountDue<0?a.formatPrice(a.Math.abs(t.amountDue)):a.formatPrice(t.amountDue)," "),i(),m(a.cashDiscount()>0?18:-1),i(),m(t.amountDue===0&&t.totalPaid>0?19:-1),i(),m(t.amountDue<0?20:-1),i(),m(a.totalSavings()>0?21:-1)}}var B=class e{formatPrice=k;getDiscountIcon=I;Math=Math;data=y(null);hasBreakdowns=C(()=>{let n=this.data();return!!n&&D(n.pricing.sessionBreakdowns)});orderTotal=C(()=>{let n=this.data();return n?b(n.pricing.subtotal,n.pricing.discounts):0});totalSavings=C(()=>{let n=this.data();return n?h(n.pricing.discounts,n.couponCredit):0});cashDiscount=C(()=>{let n=this.data();return!n||n.amountDue<=0?0:O(n.amountDue)});cashAmountDue=C(()=>{let n=this.data();return!n||n.amountDue<=0?0:S(n.amountDue)});static \u0275fac=function(t){return new(t||e)};static \u0275cmp=P({type:e,selectors:[["app-price-breakdown"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[[1,"price-breakdown"],[1,"price-row","subtotal"],[1,"label"],[1,"value"],[1,"price-row","discount"],[1,"price-row","paid"],[1,"price-row","refund"],[1,"divider"],[1,"price-row","total"],[1,"price-row","cash-discount"],[1,"paid-badge"],[1,"refund-badge"],[1,"savings-badge"],[1,"session-section"],[1,"global-discounts-section"],[1,"session-header"],[1,"session-details"],[1,"addon-row"],[1,"addon-label"],[1,"addon-value"],[1,"session-subtotal-row"],[1,"discount-badge"],[1,"value","discount-value"],[1,"section-header"],[1,"price-row"],[1,"value","paid-value"],[1,"value","refund-value"],[1,"price-row",3,"fee","credit"],[1,"value","cash-value"]],template:function(t,a){if(t&1&&l(0,tt,22,16,"div",0),t&2){let E;m((E=a.data())?0:-1,E)}},dependencies:[M],styles:[".price-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.875rem}.price-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--sys-on-surface-variant, #666);display:flex;align-items:center;gap:.375rem}.price-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--sys-on-surface, #212121);font-weight:500}.price-row.discount[_ngcontent-%COMP%]   .discount-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.discount-badge[_ngcontent-%COMP%]{font-size:1rem}.price-row.subtotal[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.price-row.paid[_ngcontent-%COMP%]   .paid-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.price-row.refund[_ngcontent-%COMP%]   .refund-value[_ngcontent-%COMP%], .price-row.fee[_ngcontent-%COMP%]   .fee-value[_ngcontent-%COMP%]{color:var(--sys-error, #c62828)}.price-row.credit[_ngcontent-%COMP%]   .credit-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.divider[_ngcontent-%COMP%]{height:1px;background:var(--sys-outline, #e0e0e0);margin:.25rem 0}.price-row.total[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}.price-row.total[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--sys-on-surface, #212121)}.price-row.total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--sys-primary, #c62828);font-size:1.25rem}.price-row.total[_ngcontent-%COMP%]   .value.paid-in-full[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.price-row.total[_ngcontent-%COMP%]   .value.refund-due[_ngcontent-%COMP%]{color:var(--sys-tertiary, #1565c0)}.price-row.cash-discount[_ngcontent-%COMP%]{background:#e8f5e9;padding:.5rem .75rem;border-radius:8px;margin-top:.25rem}.price-row.cash-discount[_ngcontent-%COMP%]   .cash-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32);font-weight:600;font-size:1.125rem}.savings-badge[_ngcontent-%COMP%], .paid-badge[_ngcontent-%COMP%], .refund-badge[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-on-secondary-container, #1b5e20);padding:.5rem .75rem;border-radius:8px;font-size:.875rem;text-align:center;font-weight:500}.paid-badge[_ngcontent-%COMP%]{font-weight:600}.refund-badge[_ngcontent-%COMP%]{background:var(--sys-tertiary-container, #e3f2fd);color:var(--sys-on-tertiary-container, #0d47a1);font-weight:600}.session-section[_ngcontent-%COMP%]{padding:.5rem 0}.session-section[_ngcontent-%COMP%] + .session-section[_ngcontent-%COMP%]{border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.session-header[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--sys-on-surface, #212121);margin-bottom:.25rem}.session-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding-left:.5rem}.addon-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.8125rem;color:var(--sys-on-surface-variant, #666)}.addon-label[_ngcontent-%COMP%]{color:var(--sys-on-surface-variant, #888)}.addon-value[_ngcontent-%COMP%]{font-weight:400}.session-subtotal-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.875rem;font-weight:500;color:var(--sys-on-surface, #212121);padding-top:.25rem}.global-discounts-section[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.section-header[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--sys-on-surface, #212121);margin-bottom:.25rem}"]})};export{B as a};

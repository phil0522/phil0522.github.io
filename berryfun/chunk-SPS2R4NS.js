import{a as T}from"./chunk-4CC2DXAZ.js";import{a as h,b as O,c as D,d as k}from"./chunk-HBOBTVUD.js";import{d as P}from"./chunk-UIQMLXH2.js";import{Ab as w,Bb as i,Cb as g,Db as u,Ia as o,Sb as f,Ta as _,Vb as C,bb as c,cb as l,eb as b,fb as y,gb as M,hb as m,ib as p,jb as E,kb as d,lb as r,mb as S,rb as s,zb as v}from"./chunk-6GAPJCXB.js";var $=(n,e)=>e.type;function G(n,e){if(n&1&&(d(0,"div",4)(1,"span",2)(2,"span",12),i(3),r(),i(4),r(),d(5,"span",13),i(6),r()()),n&2){let t=e.$implicit,a=s(2);o(3),g(a.getDiscountIcon(t.type)),o(),u(" ",t.description," "),o(2),g(a.formatPrice(t.amount))}}function A(n,e){if(n&1&&(d(0,"div",4)(1,"span",2)(2,"span",12),i(3,"\u{1F39F}\uFE0F"),r(),i(4," Coupon Credit "),r(),d(5,"span",13),i(6),r()()),n&2){let t=s(),a=s();o(6),u("-",a.formatPrice(t.couponCredit))}}function j(n,e){if(n&1&&(d(0,"div",6)(1,"span",2),i(2,"Paid"),r(),d(3,"span",14),i(4),r()()),n&2){let t=s(),a=s();o(4),u("-",a.formatPrice(t.totalPaid))}}function L(n,e){if(n&1&&(d(0,"div",7)(1,"span",2),i(2,"Refunded"),r(),d(3,"span",15),i(4),r()()),n&2){let t=s(),a=s();o(4),u("+",a.formatPrice(t.totalRefunded))}}function U(n,e){n&1&&(d(0,"div",10),i(1,"Paid in Full"),r())}function q(n,e){if(n&1&&(d(0,"div",11),i(1),r()),n&2){let t=s(2);o(),u("You saved ",t.formatPrice(t.totalSavings()),"!")}}function Y(n,e){if(n&1&&(d(0,"div",0)(1,"div",1)(2,"span",2),i(3,"Subtotal"),r(),d(4,"span",3),i(5),r()(),b(6,G,7,3,"div",4,$),d(8,"div",5)(9,"span",2),i(10,"Order Total"),r(),d(11,"span",3),i(12),r()(),c(13,A,7,1,"div",4),c(14,j,5,1,"div",6),c(15,L,5,1,"div",7),S(16,"div",8),d(17,"div",9)(18,"span",2),i(19,"Amount Due"),r(),d(20,"span",3),i(21),r()(),c(22,U,2,0,"div",10),c(23,q,2,1,"div",11),r()),n&2){let t=e,a=s();o(5),g(a.formatPrice(t.pricing.subtotal)),o(),y(t.pricing.discounts),o(6),g(a.formatPrice(a.orderTotal())),o(),l(t.couponCredit>0?13:-1),o(),l(t.totalPaid>0?14:-1),o(),l(t.totalRefunded>0?15:-1),o(5),v("paid-in-full",t.amountDue===0),o(),u(" ",a.formatPrice(t.amountDue)," "),o(),l(t.amountDue===0&&t.totalPaid>0?22:-1),o(),l(a.totalSavings()>0?23:-1)}}var I=class n{formatPrice=h;getDiscountIcon=O;data=C(null);orderTotal=f(()=>{let e=this.data();return e?D(e.pricing.subtotal,e.pricing.discounts):0});totalSavings=f(()=>{let e=this.data();return e?k(e.pricing.discounts,e.couponCredit):0});static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["app-price-breakdown"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[[1,"price-breakdown"],[1,"price-row"],[1,"label"],[1,"value"],[1,"price-row","discount"],[1,"price-row","subtotal"],[1,"price-row","paid"],[1,"price-row","refund"],[1,"divider"],[1,"price-row","total"],[1,"paid-badge"],[1,"savings-badge"],[1,"discount-badge"],[1,"value","discount-value"],[1,"value","paid-value"],[1,"value","refund-value"]],template:function(t,a){if(t&1&&c(0,Y,24,10,"div",0),t&2){let x;l((x=a.data())?0:-1,x)}},dependencies:[P],styles:[".price-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.875rem}.price-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--sys-on-surface-variant, #666);display:flex;align-items:center;gap:.375rem}.price-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--sys-on-surface, #212121);font-weight:500}.price-row.discount[_ngcontent-%COMP%]   .discount-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.discount-badge[_ngcontent-%COMP%]{font-size:1rem}.price-row.subtotal[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.price-row.paid[_ngcontent-%COMP%]   .paid-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.price-row.refund[_ngcontent-%COMP%]   .refund-value[_ngcontent-%COMP%]{color:var(--sys-error, #c62828)}.divider[_ngcontent-%COMP%]{height:1px;background:var(--sys-outline, #e0e0e0);margin:.25rem 0}.price-row.total[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}.price-row.total[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--sys-on-surface, #212121)}.price-row.total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--sys-primary, #c62828);font-size:1.25rem}.price-row.total[_ngcontent-%COMP%]   .value.paid-in-full[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.savings-badge[_ngcontent-%COMP%], .paid-badge[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-on-secondary-container, #1b5e20);padding:.5rem .75rem;border-radius:8px;font-size:.875rem;text-align:center;font-weight:500}.paid-badge[_ngcontent-%COMP%]{font-weight:600}"]})};var H=(n,e)=>e.studentId??e.studentName;function J(n,e){if(n&1&&(m(0,"div",9),i(1),p()),n&2){let t=s();w("badge-"+t.data().status),o(),u(" ",t.statusText()," ")}}function K(n,e){if(n&1&&(m(0,"span",12),i(1),p()),n&2){let t=s().$implicit,a=s();w("status-"+t.status),o(),u(" ",a.getStudentStatusText(t.status)," ")}}function Q(n,e){if(n&1&&(m(0,"span",10),i(1),c(2,K,2,3,"span",11),p()),n&2){let t=e.$implicit,a=s();v("cancelled",t.status==="cancelled"),o(),u(" ",t.studentName," "),o(),l(a.shouldShowStudentStatus()&&t.status?2:-1)}}function V(n,e){if(n&1&&(m(0,"div",8),E(1,"app-option-badges",13),p()),n&2){let t=s();o(),M("options",t.groupOptions())}}var N=class n{data=C.required();showGroupStatus=C(!0);showStudentStatus=C(void 0);shouldShowStudentStatus=f(()=>{let e=this.showStudentStatus();return e!==void 0?e:this.data().status==="mixed"});statusText=f(()=>{let e=this.data().status;return{submitted:"Pending",paid:"Paid",cancelled:"Cancelled",mixed:"Mixed"}[e??""]??e});groupOptions=f(()=>{let e=this.data().students;return e.length===0?{lunch:!1,extendedCare:!1}:e[0].options});hasAddons=f(()=>{let e=this.groupOptions();return e.lunch||e.extendedCare});formatDateRange(){let{startDate:e,endDate:t}=this.data(),a=new Date(e),x=new Date(t),R=a.toLocaleDateString("en-US",{month:"short",day:"numeric"}),B=x.toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${R} - ${B}`}getStudentStatusText(e){return{submitted:"Pending",paid:"Paid",cancelled:"Cancelled"}[e]??e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=_({type:n,selectors:[["app-class-registration-card"]],inputs:{data:[1,"data"],showGroupStatus:[1,"showGroupStatus"],showStudentStatus:[1,"showStudentStatus"]},decls:12,vars:12,consts:[[1,"registration-card"],[1,"card-header"],[1,"class-info"],[1,"class-name"],[1,"class-dates"],[1,"status-badge",3,"class"],[1,"students-row"],[1,"student-chip",3,"cancelled"],[1,"addons-row"],[1,"status-badge"],[1,"student-chip"],[1,"student-status",3,"class"],[1,"student-status"],[3,"options"]],template:function(t,a){t&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),i(4),p(),m(5,"span",4),i(6),p()(),c(7,J,2,3,"div",5),p(),m(8,"div",6),b(9,Q,3,4,"span",7,H),p(),c(11,V,2,1,"div",8),p()),t&2&&(v("status-submitted",a.data().status==="submitted")("status-paid",a.data().status==="paid")("status-cancelled",a.data().status==="cancelled")("status-mixed",a.data().status==="mixed"),o(4),g(a.data().className),o(2),g(a.formatDateRange()),o(),l(a.data().status&&a.showGroupStatus()?7:-1),o(2),y(a.data().students),o(2),l(a.hasAddons()?11:-1))},dependencies:[P,T],styles:[".registration-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--sys-outline, #e0e0e0);border-radius:8px;overflow:hidden}.registration-card.status-submitted[_ngcontent-%COMP%]{border-left:4px solid #ff9800}.registration-card.status-paid[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.registration-card.status-cancelled[_ngcontent-%COMP%]{border-left:4px solid #9e9e9e;opacity:.7}.registration-card.status-mixed[_ngcontent-%COMP%]{border-left:4px solid #2196f3}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.75rem;padding:.75rem 1rem;background:var(--sys-surface-variant, #f5f5f5);border-bottom:1px solid var(--sys-outline-variant, #e0e0e0)}.class-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;flex:1;min-width:0}.class-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:var(--sys-on-surface, #212121);line-height:1.3}.class-dates[_ngcontent-%COMP%]{font-size:.75rem;color:var(--sys-on-surface-variant, #666)}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500;white-space:nowrap;flex-shrink:0}.status-badge.badge-submitted[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-badge.badge-paid[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-secondary, #2e7d32)}.status-badge.badge-cancelled[_ngcontent-%COMP%]{background:var(--sys-surface-variant, #f5f5f5);color:var(--sys-on-surface-variant, #666)}.status-badge.badge-mixed[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.students-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding:.625rem 1rem}.student-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.25rem .625rem;background:var(--sys-primary-container, #ffebee);border:1px solid var(--sys-primary, #c62828);border-radius:16px;font-size:.8125rem;font-weight:500;color:var(--sys-primary, #c62828)}.student-chip.cancelled[_ngcontent-%COMP%]{opacity:.6;background:var(--sys-surface-variant, #f5f5f5);border-color:var(--sys-outline, #9e9e9e);color:var(--sys-on-surface-variant, #666)}.student-status[_ngcontent-%COMP%]{font-size:.625rem;padding:.0625rem .375rem;border-radius:8px;font-weight:600}.student-status.status-submitted[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.student-status.status-paid[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-secondary, #2e7d32)}.student-status.status-cancelled[_ngcontent-%COMP%]{background:#fff;color:var(--sys-on-surface-variant, #666)}.addons-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding:.5rem 1rem;border-top:1px solid var(--sys-outline-variant, #f0f0f0)}"]})};export{I as a,N as b};

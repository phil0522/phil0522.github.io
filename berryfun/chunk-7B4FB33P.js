import{a as M}from"./chunk-GXUCWEFH.js";import{Z as S,_ as h,ca as P,d as y,j as k}from"./chunk-KOBH342O.js";import"./chunk-UYHN5VVP.js";import{Ea as c,N as m,Pa as b,S as g,T as p,Za as u,_a as _,da as w,db as f,eb as e,fb as o,gb as d,kb as x,mb as v,ob as s,wb as C,yb as i}from"./chunk-DU5POHF6.js";import"./chunk-Q7L6LLAK.js";function A(n,r){n&1&&(e(0,"div",10),d(1,"div",16),e(2,"span"),i(3,"Loading..."),o()())}function E(n,r){if(n&1&&d(0,"app-markdown-renderer",11),n&2){let t=s(2);f("content",t.releaseAgreementContent())}}function F(n,r){n&1&&(e(0,"div",12)(1,"p"),i(2,"No liability release content has been configured."),o(),e(3,"p",17),i(4,"Please contact the administrator."),o()())}function T(n,r){if(n&1){let t=x();e(0,"div",6)(1,"div",7)(2,"h1"),i(3,"Stage 1: Liability Release"),o(),e(4,"p",8),i(5,"Legal Acknowledgement Required"),o()(),e(6,"div",9),u(7,A,4,0,"div",10)(8,E,1,1,"app-markdown-renderer",11)(9,F,5,0,"div",12),o(),e(10,"div",13)(11,"button",14),v("click",function(){g(t);let l=s();return p(l.goBack())}),i(12,"Go Back"),o(),e(13,"button",15),v("click",function(){g(t);let l=s();return p(l.nextStage())}),i(14," Continue to Financial Terms "),o()()()}if(n&2){let t=s();c(7),_(t.configService.loading()?7:t.releaseAgreementContent()?8:9),c(6),f("disabled",!t.releaseAgreementContent())}}function I(n,r){n&1&&(e(0,"div",10),d(1,"div",16),e(2,"span"),i(3,"Loading..."),o()())}function V(n,r){if(n&1&&d(0,"app-markdown-renderer",11),n&2){let t=s(2);f("content",t.returnInstructionsContent())}}function z(n,r){n&1&&(e(0,"div",12)(1,"p"),i(2,"No financial terms content has been configured."),o(),e(3,"p",17),i(4,"Please contact the administrator."),o()())}function N(n,r){if(n&1){let t=x();e(0,"div",6)(1,"div",7)(2,"h1"),i(3,"Stage 2: Financial Terms"),o(),e(4,"p",8),i(5,"Strict Refund Policy Agreement"),o()(),e(6,"div",9),u(7,I,4,0,"div",10)(8,V,1,1,"app-markdown-renderer",11)(9,z,5,0,"div",12),o(),e(10,"div",13)(11,"button",14),v("click",function(){g(t);let l=s();return p(l.previousStage())}),i(12,"Back"),o(),e(13,"button",18),v("click",function(){g(t);let l=s();return p(l.completeAcknowledgement())}),i(14," I Fully Agree & Consent "),o()()()}if(n&2){let t=s();c(7),_(t.configService.loading()?7:t.returnInstructionsContent()?8:9),c(6),f("disabled",!t.returnInstructionsContent())}}var O=class n{configService=m(S);seasonService=m(h);acknowledgementService=m(P);router=m(k);currentStage=w(1);ngOnInit(){this.configService.isSystemInitialized()||this.configService.fetchConfig()}releaseAgreementContent(){return this.configService.releaseAgreementContent()?.content??""}returnInstructionsContent(){return this.configService.returnInstructions()?.content??""}nextStage(){this.currentStage()<2&&this.currentStage.update(r=>r+1)}previousStage(){this.currentStage()>1&&this.currentStage.update(r=>r-1)}goBack(){this.router.navigate(["/"])}completeAcknowledgement(){let r=this.seasonService.selectedSeason();if(!r){console.error("No season selected"),this.router.navigate(["/"]);return}this.acknowledgementService.saveAcknowledgement(r.id),this.router.navigate(["/ledger"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=b({type:n,selectors:[["app-acknowledgement-flow"]],decls:15,vars:10,consts:[[1,"acknowledgement-flow"],[1,"progress-indicator"],[1,"step"],[1,"step-number"],[1,"step-label"],[1,"step-connector"],[1,"stage-content"],[1,"stage-header"],[1,"subtitle"],[1,"content-card"],[1,"loading"],[3,"content"],[1,"empty-content"],[1,"stage-actions"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click","disabled"],[1,"spinner"],[1,"note"],[1,"btn-primary","btn-confirm",3,"click","disabled"]],template:function(t,a){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),i(4,"1"),o(),e(5,"span",4),i(6,"Liability Release"),o()(),d(7,"div",5),e(8,"div",2)(9,"span",3),i(10,"2"),o(),e(11,"span",4),i(12,"Financial Terms"),o()()(),u(13,T,15,2,"div",6),u(14,N,15,2,"div",6),o()),t&2&&(c(2),C("active",a.currentStage()===1)("completed",a.currentStage()>1),c(5),C("completed",a.currentStage()>1),c(),C("active",a.currentStage()===2),c(5),_(a.currentStage()===1?13:-1),c(),_(a.currentStage()===2?14:-1))},dependencies:[y,M],styles:[".acknowledgement-flow[_ngcontent-%COMP%]{min-height:100vh;background:var(--sys-surface, #fafafa);padding:2rem 1rem}.progress-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:2rem;padding:0 2rem}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.step-number[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:var(--sys-outline, #e0e0e0);color:var(--sys-on-surface-variant, #666);display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1rem;transition:all .3s ease}.step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:var(--sys-primary, #c62828);color:#fff;box-shadow:0 2px 8px #c628284d}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:var(--sys-tertiary, #2e7d32);color:#fff}.step-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--sys-on-surface-variant, #666);white-space:nowrap}.step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--sys-primary, #c62828);font-weight:600}.step-connector[_ngcontent-%COMP%]{width:80px;height:3px;background:var(--sys-outline, #e0e0e0);margin:0 1rem 1.5rem;transition:background .3s ease}.step-connector.completed[_ngcontent-%COMP%]{background:var(--sys-tertiary, #2e7d32)}.stage-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.stage-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.stage-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.75rem;color:var(--sys-on-surface, #212121)}.stage-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:var(--sys-on-surface-variant, #666);font-size:1rem}.content-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--sys-outline-variant, #e0e0e0);border-radius:16px;padding:2rem;margin-bottom:1.5rem;max-height:60vh;overflow-y:auto;box-shadow:0 2px 8px #0000000d}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;padding:2rem;color:var(--sys-on-surface-variant, #666)}.spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid var(--sys-outline, #e0e0e0);border-top-color:var(--sys-primary, #c62828);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--sys-on-surface-variant, #666)}.empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.empty-content[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{font-size:.875rem;color:var(--sys-on-surface-variant, #999)}.stage-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:1rem 2rem;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;border:none}.btn-primary[_ngcontent-%COMP%]{background:var(--sys-primary, #c62828);color:#fff;flex:1}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--sys-primary-dark, #a51c1c);box-shadow:0 4px 12px #c628284d}.btn-primary[_ngcontent-%COMP%]:disabled{background:var(--sys-outline, #e0e0e0);color:var(--sys-on-surface-variant, #999);cursor:not-allowed}.btn-primary.btn-confirm[_ngcontent-%COMP%]{background:var(--sys-tertiary, #2e7d32)}.btn-primary.btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#1b5e20;box-shadow:0 4px 12px #2e7d324d}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:var(--sys-on-surface-variant, #666);border:1px solid var(--sys-outline, #e0e0e0)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--sys-surface-variant, #f5f5f5)}@media(max-width:600px){.acknowledgement-flow[_ngcontent-%COMP%]{padding:1rem}.progress-indicator[_ngcontent-%COMP%]{padding:0}.step-connector[_ngcontent-%COMP%]{width:40px}.step-label[_ngcontent-%COMP%]{font-size:.75rem}.content-card[_ngcontent-%COMP%]{padding:1rem;max-height:50vh}.stage-actions[_ngcontent-%COMP%]{flex-direction:column}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}}"]})};export{O as AcknowledgementFlowComponent};

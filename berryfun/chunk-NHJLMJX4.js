import{f as K}from"./chunk-HNEAA2ZM.js";import{b as Q,c as X,d as $,e as ee,f as te,g as ne,i as ie,j as oe,k as ae,n as re,o as de,p as le,q as se,r as ce}from"./chunk-U4YJGQVE.js";import"./chunk-OD6KCV5K.js";import"./chunk-FYGYBRKK.js";import"./chunk-NR6WXTS5.js";import"./chunk-L5OFKJS2.js";import{a as H}from"./chunk-EUESG25O.js";import{b as Z}from"./chunk-3NM435RE.js";import{d as Y,h as B,j as U,k as G,ma as R,na as T,oa as j,pa as J}from"./chunk-UIQMLXH2.js";import{Bb as i,Cb as F,Db as S,Hb as u,Ia as d,Ib as f,Jb as C,R as M,Ta as z,W as m,X as p,a as D,bb as _,cb as g,eb as q,fb as L,gb as y,ha as E,hb as e,ib as t,jb as O,nb as P,pb as v,rb as c,xb as b,zb as w}from"./chunk-6GAPJCXB.js";var _e=(r,a)=>a.id;function ge(r,a){r&1&&(e(0,"div",16),O(1,"div",18),e(2,"p"),i(3,"Loading..."),t()())}function ue(r,a){if(r&1){let n=P();e(0,"div",21)(1,"strong"),i(2,"Error:"),t(),i(3),e(4,"button",20),v("click",function(){m(n);let o=c(2);return p(o.clearErrors())}),i(5,"Close"),t()()}if(r&2){let n=c(2);d(3),S(" ",n.userService.error()," ")}}function fe(r,a){r&1&&(e(0,"span",26),i(1,"Admin"),t())}function Ce(r,a){r&1&&(e(0,"div",34),i(1,"Please enter a name between 2-50 characters"),t())}function xe(r,a){r&1&&(e(0,"div",34),i(1,"Please enter a valid phone number"),t())}function he(r,a){r&1&&(e(0,"div",34),i(1,"Please enter your WeChat ID"),t())}function be(r,a){r&1&&(e(0,"div",34),i(1,"Please enter a street address"),t())}function ve(r,a){r&1&&(e(0,"div",34),i(1,"Please enter a city"),t())}function Se(r,a){r&1&&(e(0,"div",34),i(1,"Please enter a state"),t())}function Pe(r,a){r&1&&(e(0,"div",34),i(1,"Please enter a zip code"),t())}function ye(r,a){r&1&&(e(0,"div",34),i(1,"Please enter emergency contact name"),t())}function Me(r,a){r&1&&(e(0,"div",34),i(1,"Please enter a valid phone number"),t())}function Ee(r,a){r&1&&(e(0,"div",34),i(1,"Please select a relationship"),t())}function we(r,a){if(r&1){let n=P();e(0,"div",22)(1,"div",24)(2,"h2"),i(3,"Profile"),t(),e(4,"div",25),_(5,fe,2,0,"span",26),t()(),e(6,"form",27,0),v("ngSubmit",function(){m(n);let o=c(2);return p(o.onSubmitProfile())}),e(8,"div",28)(9,"h3"),i(10,"Basic Information"),t(),e(11,"div",29)(12,"div",30)(13,"label",31),i(14,"Parent Name "),e(15,"span",32),i(16,"*"),t()(),e(17,"input",33,1),C("ngModelChange",function(o){m(n);let l=c(2);return f(l.formData.displayName,o)||(l.formData.displayName=o),p(o)}),t(),_(19,Ce,2,0,"div",34),t(),e(20,"div",30)(21,"label",35),i(22,"Email"),t(),O(23,"input",36),e(24,"div",37),i(25," Email is provided by Google account and cannot be modified "),t()()()(),e(26,"div",28)(27,"h3"),i(28,"Contact Information"),t(),e(29,"div",29)(30,"div",30)(31,"label",38),i(32,"Phone Number "),e(33,"span",32),i(34,"*"),t()(),e(35,"input",39,2),C("ngModelChange",function(o){m(n);let l=c(2);return f(l.formData.phone,o)||(l.formData.phone=o),p(o)}),t(),e(37,"div",37),i(38,"Format: (xxx) xxx-xxxx"),t(),_(39,xe,2,0,"div",34),t(),e(40,"div",30)(41,"label",40),i(42,"WeChat ID "),e(43,"span",32),i(44,"*"),t()(),e(45,"input",41,3),C("ngModelChange",function(o){m(n);let l=c(2);return f(l.formData.wechat,o)||(l.formData.wechat=o),p(o)}),t(),e(47,"div",37),i(48,"Your WeChat username or ID"),t(),_(49,he,2,0,"div",34),t()()(),e(50,"div",28)(51,"h3"),i(52,"Home Address"),t(),e(53,"div",30)(54,"label",42),i(55,"Street Address "),e(56,"span",32),i(57,"*"),t()(),e(58,"input",43,4),C("ngModelChange",function(o){m(n);let l=c(2);return f(l.formData.address.street,o)||(l.formData.address.street=o),p(o)}),t(),_(60,be,2,0,"div",34),t(),e(61,"div",29)(62,"div",30)(63,"label",44),i(64,"City "),e(65,"span",32),i(66,"*"),t()(),e(67,"input",45,5),C("ngModelChange",function(o){m(n);let l=c(2);return f(l.formData.address.city,o)||(l.formData.address.city=o),p(o)}),t(),e(69,"datalist",46),O(70,"option",47)(71,"option",48)(72,"option",49)(73,"option",50)(74,"option",51)(75,"option",52)(76,"option",53)(77,"option",54)(78,"option",55)(79,"option",56),t(),_(80,ve,2,0,"div",34),t(),e(81,"div",30)(82,"label",57),i(83,"State "),e(84,"span",32),i(85,"*"),t()(),e(86,"input",58,6),C("ngModelChange",function(o){m(n);let l=c(2);return f(l.formData.address.state,o)||(l.formData.address.state=o),p(o)}),t(),e(88,"datalist",59),O(89,"option",60),t(),_(90,Se,2,0,"div",34),t(),e(91,"div",30)(92,"label",61),i(93,"Zip Code "),e(94,"span",32),i(95,"*"),t()(),e(96,"input",62,7),C("ngModelChange",function(o){m(n);let l=c(2);return f(l.formData.address.zipCode,o)||(l.formData.address.zipCode=o),p(o)}),t(),_(98,Pe,2,0,"div",34),t()()(),e(99,"div",28)(100,"h3"),i(101,"Emergency Contact"),t(),e(102,"div",29)(103,"div",30)(104,"label",63),i(105,"Name "),e(106,"span",32),i(107,"*"),t()(),e(108,"input",64,8),C("ngModelChange",function(o){m(n);let l=c(2);return f(l.formData.emergencyContact.name,o)||(l.formData.emergencyContact.name=o),p(o)}),t(),_(110,ye,2,0,"div",34),t(),e(111,"div",30)(112,"label",65),i(113,"Phone "),e(114,"span",32),i(115,"*"),t()(),e(116,"input",66,9),C("ngModelChange",function(o){m(n);let l=c(2);return f(l.formData.emergencyContact.phone,o)||(l.formData.emergencyContact.phone=o),p(o)}),t(),e(118,"div",37),i(119,"Format: (xxx) xxx-xxxx"),t(),_(120,Me,2,0,"div",34),t(),e(121,"div",30)(122,"label",67),i(123,"Relationship "),e(124,"span",32),i(125,"*"),t()(),e(126,"select",68,10),C("ngModelChange",function(o){m(n);let l=c(2);return f(l.formData.emergencyContact.relationship,o)||(l.formData.emergencyContact.relationship=o),p(o)}),e(128,"option",69),i(129,"Please select"),t(),e(130,"option",70),i(131,"Grandparent"),t(),e(132,"option",71),i(133,"Parent"),t(),e(134,"option",72),i(135,"Friend"),t(),e(136,"option",73),i(137,"Other"),t()(),_(138,Ee,2,0,"div",34),t()()(),e(139,"div",74)(140,"button",75),i(141),t()()()()}if(r&2){let n=b(7),s=b(18),o=b(36),l=b(46),x=b(59),V=b(68),k=b(87),I=b(97),N=b(109),W=b(117),A=b(127),pe=c(),h=c();d(5),g(h.userService.isAdmin()?5:-1),d(12),u("ngModel",h.formData.displayName),d(2),g(s.invalid&&s.touched?19:-1),d(4),y("value",pe.email),d(12),u("ngModel",h.formData.phone),y("pattern",h.phonePattern),d(4),g(o.invalid&&o.touched?39:-1),d(6),u("ngModel",h.formData.wechat),d(4),g(l.invalid&&l.touched?49:-1),d(9),u("ngModel",h.formData.address.street),d(2),g(x.invalid&&x.touched?60:-1),d(7),u("ngModel",h.formData.address.city),d(13),g(V.invalid&&V.touched?80:-1),d(6),u("ngModel",h.formData.address.state),d(4),g(k.invalid&&k.touched?90:-1),d(6),u("ngModel",h.formData.address.zipCode),d(2),g(I.invalid&&I.touched?98:-1),d(10),u("ngModel",h.formData.emergencyContact.name),d(2),g(N.invalid&&N.touched?110:-1),d(6),u("ngModel",h.formData.emergencyContact.phone),y("pattern",h.phonePattern),d(4),g(W.invalid&&W.touched?120:-1),d(6),u("ngModel",h.formData.emergencyContact.relationship),d(12),g(A.invalid&&A.touched?138:-1),d(2),y("disabled",n.invalid||h.saving()||!h.hasProfileChanges()),d(),S(" ",h.saving()?"Saving...":"Save Changes"," ")}}function De(r,a){r&1&&(e(0,"div",78),i(1,"Loading student list..."),t())}function Oe(r,a){if(r&1){let n=P();e(0,"div",79)(1,"div",81),i(2,"\u{1F466}\u{1F467}"),t(),e(3,"h3"),i(4,"No students added yet"),t(),e(5,"p"),i(6,"Add your children's information to register for summer camp activities"),t(),e(7,"button",82),v("click",function(){m(n);let o=c(4);return p(o.onAddStudent())}),i(8,"Add First Student"),t()()}}function Fe(r,a){r&1&&(e(0,"span",89),i(1,"\u2713"),t())}function Te(r,a){r&1&&(e(0,"span",90),i(1,"!"),t())}function Ve(r,a){r&1&&(e(0,"p",93),i(1," Age does not meet registration requirements (5-12 years) "),t())}function ke(r,a){if(r&1){let n=P();e(0,"div",84)(1,"div",85),i(2),t(),e(3,"div",86)(4,"h4"),i(5),t(),e(6,"div",87)(7,"span",88),i(8),_(9,Fe,2,0,"span",89)(10,Te,2,0,"span",90),t(),e(11,"span",91),i(12),t()(),e(13,"p",92),i(14),t(),_(15,Ve,2,0,"p",93),t(),e(16,"div",94)(17,"button",95),v("click",function(){let o=m(n).$implicit,l=c(5);return p(l.onEditStudent(o))}),i(18," \u270F\uFE0F "),t(),e(19,"button",96),v("click",function(){let o=m(n).$implicit,l=c(5);return p(l.onDeleteStudent(o))}),i(20," \u{1F5D1}\uFE0F "),t()()()}if(r&2){let n=a.$implicit,s=c(5);w("eligible",s.isEligible(n.dob))("ineligible",!s.isEligible(n.dob)),d(2),S(" ",s.getInitials(n.fullName)," "),d(3),F(n.fullName),d(2),w("eligible",s.isEligible(n.dob)),d(),S(" ",s.getAge(n.dob)," yrs "),d(),g(s.isEligible(n.dob)?9:10),d(3),F(s.formatGender(n.gender)),d(2),S("Birthday: ",s.formatDate(n.dob)),d(),g(s.isEligible(n.dob)?-1:15)}}function Ie(r,a){if(r&1&&(e(0,"div",80),q(1,ke,21,13,"div",83,_e),t()),r&2){let n=c(4);d(),L(n.userService.students())}}function Ne(r,a){if(r&1){let n=P();e(0,"div",24)(1,"h2"),i(2,"Student Management"),t(),e(3,"button",77),v("click",function(){m(n);let o=c(3);return p(o.onAddStudent())}),i(4,"+ Add Student"),t()(),_(5,De,2,0,"div",78)(6,Oe,9,0,"div",79)(7,Ie,3,0,"div",80)}if(r&2){let n=c(3);d(5),g(n.userService.loading()?5:n.userService.students().length===0?6:7)}}function We(r,a){r&1&&(e(0,"div",34),i(1,"Please enter a name between 2-50 characters"),t())}function Ae(r,a){r&1&&(e(0,"div",34),i(1,"Please select a gender"),t())}function ze(r,a){r&1&&(e(0,"div",34),i(1,"Please select a valid date of birth"),t())}function qe(r,a){r&1&&(e(0,"span",120),i(1,"\u2713 Meets registration requirements"),t())}function Le(r,a){r&1&&(e(0,"span",121),i(1,"\u2717 Does not meet requirements (ages 5-12)"),t())}function Ye(r,a){if(r&1&&(e(0,"div",119),i(1),_(2,qe,2,0,"span",120)(3,Le,2,0,"span",121),t()),r&2){let n=c(4);w("eligible",n.isStudentFormEligible())("ineligible",!n.isStudentFormEligible()),d(),S(" Current age: ",n.getStudentFormAge()," yrs "),d(),g(n.isStudentFormEligible()?2:3)}}function Be(r,a){if(r&1){let n=P();e(0,"div",76)(1,"div",24)(2,"button",97),v("click",function(){m(n);let o=c(3);return p(o.viewMode.set("profile"))}),i(3,"\u2190 Back"),t(),e(4,"h2"),i(5),t()(),e(6,"form",27,11),v("ngSubmit",function(){m(n);let o=c(3);return p(o.onSubmitStudent())}),e(8,"div",28)(9,"div",29)(10,"div",30)(11,"label",98),i(12,"Name "),e(13,"span",32),i(14,"*"),t()(),e(15,"input",99,12),C("ngModelChange",function(o){m(n);let l=c(3);return f(l.studentFormData.fullName,o)||(l.studentFormData.fullName=o),p(o)}),t(),_(17,We,2,0,"div",34),t(),e(18,"div",30)(19,"label",100),i(20,"Gender "),e(21,"span",32),i(22,"*"),t()(),e(23,"select",101,13),C("ngModelChange",function(o){m(n);let l=c(3);return f(l.studentFormData.gender,o)||(l.studentFormData.gender=o),p(o)}),e(25,"option",69),i(26,"Please select"),t(),e(27,"option",102),i(28,"Male"),t(),e(29,"option",103),i(30,"Female"),t()(),_(31,Ae,2,0,"div",34),t()(),e(32,"div",30)(33,"label",104),i(34,"Date of Birth "),e(35,"span",32),i(36,"*"),t()(),e(37,"input",105,14),C("ngModelChange",function(o){m(n);let l=c(3);return f(l.studentFormData.dob,o)||(l.studentFormData.dob=o),p(o)}),v("ngModelChange",function(){m(n);let o=c(3);return p(o.onStudentDobChange())}),t(),_(39,ze,2,0,"div",34),_(40,Ye,4,6,"div",106),t(),e(41,"div",30)(42,"label",107),i(43,"School"),t(),e(44,"input",108),C("ngModelChange",function(o){m(n);let l=c(3);return f(l.studentFormData.school,o)||(l.studentFormData.school=o),p(o)}),t()(),e(45,"div",30)(46,"label",109),i(47,"Last Year Attended Camp"),t(),e(48,"select",110),C("ngModelChange",function(o){m(n);let l=c(3);return f(l.studentFormData.lastCampYear,o)||(l.studentFormData.lastCampYear=o),p(o)}),e(49,"option",69),i(50,"Not enrolled previously"),t(),e(51,"option",111),i(52,"2025"),t(),e(53,"option",112),i(54,"2024"),t(),e(55,"option",113),i(56,"2023"),t(),e(57,"option",114),i(58,"2022"),t(),e(59,"option",115),i(60,"2021"),t()()(),e(61,"div",30)(62,"label",116),i(63,"Allergy Information"),t(),e(64,"textarea",117),C("ngModelChange",function(o){m(n);let l=c(3);return f(l.studentFormData.allergies,o)||(l.studentFormData.allergies=o),p(o)}),t()()(),e(65,"div",74)(66,"button",75),i(67),t(),e(68,"button",118),v("click",function(){m(n);let o=c(3);return p(o.viewMode.set("profile"))}),i(69," Cancel "),t()()()()}if(r&2){let n=b(7),s=b(16),o=b(24),l=b(38),x=c(3);d(5),F(x.viewMode()==="add-student"?"Add Student":"Edit Student"),d(10),u("ngModel",x.studentFormData.fullName),d(2),g(s.invalid&&s.touched?17:-1),d(6),u("ngModel",x.studentFormData.gender),d(8),g(o.invalid&&o.touched?31:-1),d(6),u("ngModel",x.studentFormData.dob),y("max",x.maxStudentDate)("min",x.minStudentDate),d(2),g(l.invalid&&l.touched?39:-1),d(),g(x.studentFormData.dob?40:-1),d(4),u("ngModel",x.studentFormData.school),d(4),u("ngModel",x.studentFormData.lastCampYear),d(16),u("ngModel",x.studentFormData.allergies),d(2),y("disabled",n.invalid||x.savingStudent()),d(),S(" ",x.savingStudent()?"Saving...":x.viewMode()==="add-student"?"Add Student":"Save Changes"," ")}}function Ue(r,a){if(r&1&&(e(0,"div",23),_(1,Ne,8,1)(2,Be,70,15,"div",76),t()),r&2){let n=c(2);d(),g(n.viewMode()==="profile"?1:2)}}function Ge(r,a){if(r&1){let n=P();e(0,"div",19)(1,"button",20),v("click",function(){m(n);let o=c();return p(o.switchTab("profile"))}),i(2," Profile "),t(),e(3,"button",20),v("click",function(){m(n);let o=c();return p(o.switchTab("students"))}),i(4),t()(),_(5,ue,6,1,"div",21),_(6,we,142,26,"div",22),_(7,Ue,3,1,"div",23)}if(r&2){let n=c();d(),w("active",n.activeTab()==="profile"),d(2),w("active",n.activeTab()==="students"),d(),S(" Student Management (",n.userService.studentCount(),") "),d(),g(n.userService.error()?5:-1),d(),g(n.activeTab()==="profile"?6:-1),d(),g(n.activeTab()==="students"?7:-1)}}function Re(r,a){r&1&&(e(0,"div",17)(1,"div",122),i(2,"\u{1F464}"),t(),e(3,"h3"),i(4,"Please log in first"),t(),e(5,"p"),i(6,"Log in to manage your profile and student information"),t(),e(7,"a",123),i(8,"Login / Register"),t()())}var me=class r{userService=M(Z);authService=M(K);configService=M(H);router=M(U);route=M(B);saving=E(!1);savingStudent=E(!1);activeTab=E("profile");viewMode=E("profile");editingStudentId=E(null);queryParamSubscription=null;phonePattern=R;originalFormData="";formData={displayName:"",phone:"",wechat:"",address:{street:"",city:"",state:"CA",zipCode:""},emergencyContact:{name:"",phone:"",relationship:""}};studentFormData={fullName:"",dob:"",gender:"",school:"",lastCampYear:"",allergies:"None"};get maxStudentDate(){return this.getDateString(5)}get minStudentDate(){return this.getDateString(12)}ngOnInit(){this.queryParamSubscription=this.route.queryParams.subscribe(n=>{let s=n.tab;s==="students"?(this.activeTab.set("students"),this.viewMode.set("profile")):s==="info"?(this.activeTab.set("profile"),this.viewMode.set("profile")):(this.activeTab.set("profile"),this.viewMode.set("profile"),this.router.navigate([],{relativeTo:this.route,queryParams:{tab:"info"},replaceUrl:!0}))});let a=this.userService.currentUser();a&&this.loadFormData(a)}ngOnDestroy(){this.queryParamSubscription?.unsubscribe()}switchTab(a){this.activeTab.set(a),this.viewMode.set("profile");let n=a==="students"?"students":"info";this.router.navigate([],{relativeTo:this.route,queryParams:{tab:n},replaceUrl:!0})}loadFormData(a){this.formData={displayName:a.displayName,phone:a.contactInfo?.phone??"",wechat:a.contactInfo?.wechat??"",address:{street:a.contactInfo?.address?.street??"",city:a.contactInfo?.address?.city??"",state:a.contactInfo?.address?.state||"CA",zipCode:a.contactInfo?.address?.zipCode??""},emergencyContact:{name:a.contactInfo?.emergencyContact?.name??"",phone:a.contactInfo?.emergencyContact?.phone??"",relationship:a.contactInfo?.emergencyContact?.relationship??""}},this.originalFormData=JSON.stringify(this.formData)}hasProfileChanges(){return JSON.stringify(this.formData)!==this.originalFormData}async onSubmitProfile(){if(this.saving.set(!0),!this.userService.currentUser()){alert("Please log in first"),this.saving.set(!1);return}try{let n={displayName:this.formData.displayName,contactInfo:{phone:this.formData.phone,wechat:this.formData.wechat,address:this.formData.address,emergencyContact:this.formData.emergencyContact}};await this.userService.updateProfile(n),this.originalFormData=JSON.stringify(this.formData)}catch(n){console.error("Failed to update profile:",n)}finally{this.saving.set(!1)}}onAddStudent(){this.editingStudentId.set(null),this.studentFormData={fullName:"",dob:"",gender:"",school:"",lastCampYear:"",allergies:"None"},this.viewMode.set("add-student")}onEditStudent(a){this.editingStudentId.set(a.id),this.studentFormData={fullName:a.fullName,dob:a.dob,gender:a.gender,school:a.school||"",lastCampYear:a.lastCampYear||"",allergies:a.allergies},this.viewMode.set("edit-student")}async onDeleteStudent(a){if(confirm(`Are you sure you want to delete student "${a.fullName}"? This action cannot be undone.`))try{await this.userService.deleteStudent(a.id),alert("Student deleted")}catch(n){console.error("Failed to delete student:",n)}}async onSubmitStudent(){if(this.savingStudent.set(!0),!this.userService.currentUser()){alert("Please log in first"),this.savingStudent.set(!1);return}try{if(this.viewMode()==="add-student")await this.userService.createStudent(D(D({fullName:this.studentFormData.fullName,dob:this.studentFormData.dob,gender:this.studentFormData.gender,allergies:this.studentFormData.allergies||"None"},this.studentFormData.school?{school:this.studentFormData.school}:{}),this.studentFormData.lastCampYear?{lastCampYear:this.studentFormData.lastCampYear}:{}));else{let n=this.editingStudentId();n&&await this.userService.updateStudent(n,D(D({fullName:this.studentFormData.fullName,dob:this.studentFormData.dob,gender:this.studentFormData.gender,allergies:this.studentFormData.allergies||"None"},this.studentFormData.school?{school:this.studentFormData.school}:{}),this.studentFormData.lastCampYear?{lastCampYear:this.studentFormData.lastCampYear}:{}))}this.viewMode.set("profile")}catch(n){console.error("Failed to save student:",n)}finally{this.savingStudent.set(!1)}}onStudentDobChange(){}getAge(a){let n=this.configService.config();if(!n)return 0;let s=T(n.currentActiveYear);return j(a,s)}isEligible(a){let n=this.configService.config();if(!n)return!1;let s=T(n.currentActiveYear);return J(a,s)}getStudentFormAge(){return this.studentFormData.dob?this.getAge(this.studentFormData.dob):0}isStudentFormEligible(){return this.studentFormData.dob?this.isEligible(this.studentFormData.dob):!1}getInitials(a){let n=a.trim().split(/\s+/);return n.length>=2?(n[0][0]+n[n.length-1][0]).toUpperCase():a.slice(0,2).toUpperCase()}formatGender(a){return a==="M"?"Male":a==="F"?"Female":"Other"}formatDate(a){return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}clearErrors(){this.userService.clearError()}getDateString(a){return`${(this.configService.config()?.currentActiveYear??2025)-a}-01-01`}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=z({type:r,selectors:[["app-profile-edit"]],decls:4,vars:1,consts:[["profileForm","ngForm"],["displayNameInput","ngModel"],["phoneInput","ngModel"],["wechatInput","ngModel"],["streetInput","ngModel"],["cityInput","ngModel"],["stateInput","ngModel"],["zipCodeInput","ngModel"],["emergencyNameInput","ngModel"],["emergencyPhoneInput","ngModel"],["relationshipInput","ngModel"],["studentForm","ngForm"],["studentNameInput","ngModel"],["studentGenderInput","ngModel"],["studentDobInput","ngModel"],[1,"profile-page"],[1,"loading-container"],[1,"login-prompt"],[1,"spinner"],[1,"tab-nav"],[3,"click"],[1,"error-message"],[1,"profile-section"],[1,"students-section"],[1,"section-header"],[1,"user-meta"],[1,"user-role"],[3,"ngSubmit"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","displayName"],[1,"required"],["type","text","id","displayName","name","displayName","required","","minlength","2","maxlength","50",3,"ngModelChange","ngModel"],[1,"error"],["for","email"],["type","email","id","email","disabled","",3,"value"],[1,"hint"],["for","phone"],["type","tel","id","phone","name","phone","required","",3,"ngModelChange","ngModel","pattern"],["for","wechat"],["type","text","id","wechat","name","wechat","required","",3,"ngModelChange","ngModel"],["for","street"],["type","text","id","street","name","street","required","","placeholder","Street address, apt/unit #",3,"ngModelChange","ngModel"],["for","city"],["type","text","id","city","name","city","required","","placeholder","City","list","citySuggestions","autocomplete","off",3,"ngModelChange","ngModel"],["id","citySuggestions"],["value","Santa Clara"],["value","San Jose"],["value","Sunnyvale"],["value","Mountain View"],["value","Cupertino"],["value","Palo Alto"],["value","Milpitas"],["value","Campbell"],["value","Los Altos"],["value","Fremont"],["for","state"],["type","text","id","state","name","state","required","","placeholder","CA","maxlength","2","list","stateSuggestions","autocomplete","off",3,"ngModelChange","ngModel"],["id","stateSuggestions"],["value","CA"],["for","zipCode"],["type","text","id","zipCode","name","zipCode","required","","placeholder","Zip code",3,"ngModelChange","ngModel"],["for","emergencyName"],["type","text","id","emergencyName","name","emergencyName","required","",3,"ngModelChange","ngModel"],["for","emergencyPhone"],["type","tel","id","emergencyPhone","name","emergencyPhone","required","",3,"ngModelChange","ngModel","pattern"],["for","relationship"],["id","relationship","name","relationship","required","",3,"ngModelChange","ngModel"],["value",""],["value","Grandparent"],["value","Parent"],["value","Friend"],["value","Other"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],[1,"student-form-container"],[1,"btn-add",3,"click"],[1,"loading"],[1,"empty-state"],[1,"student-grid"],[1,"empty-icon"],[1,"btn-primary",3,"click"],[1,"student-card",3,"eligible","ineligible"],[1,"student-card"],[1,"student-avatar"],[1,"student-info"],[1,"student-details"],[1,"age-badge"],[1,"check"],[1,"warning"],[1,"gender"],[1,"dob"],[1,"eligibility-warning"],[1,"student-actions"],["title","Edit",1,"btn-icon",3,"click"],["title","Delete",1,"btn-icon","btn-delete",3,"click"],[1,"btn-back",3,"click"],["for","studentName"],["type","text","id","studentName","name","studentName","required","","minlength","2","maxlength","50",3,"ngModelChange","ngModel"],["for","studentGender"],["id","studentGender","name","studentGender","required","",3,"ngModelChange","ngModel"],["value","M"],["value","F"],["for","studentDob"],["type","date","id","studentDob","name","studentDob","required","",3,"ngModelChange","ngModel","max","min"],[1,"age-info",3,"eligible","ineligible"],["for","school"],["type","text","id","school","name","school","maxlength","100","placeholder","Enter the school name",3,"ngModelChange","ngModel"],["for","lastCampYear"],["id","lastCampYear","name","lastCampYear",3,"ngModelChange","ngModel"],["value","2025"],["value","2024"],["value","2023"],["value","2022"],["value","2021"],["for","allergies"],["id","allergies","name","allergies","rows","3","placeholder",'If no allergies, please enter "None"',3,"ngModelChange","ngModel"],["type","button",1,"btn-secondary",3,"click"],[1,"age-info"],[1,"eligible-text"],[1,"ineligible-text"],[1,"login-icon"],["routerLink","/login",1,"btn-login"]],template:function(n,s){if(n&1&&(e(0,"div",15),_(1,ge,4,0,"div",16)(2,Ge,8,8)(3,Re,9,0,"div",17),t()),n&2){let o;d(),g(s.userService.loading()||s.authService.loading()?1:(o=s.userService.currentUser())?2:3,o)}},dependencies:[Y,ce,ne,oe,ae,Q,ie,X,$,re,de,le,se,te,ee,G],styles:[".profile-page[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:0 20px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px;color:#666}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f0f0f0;border-top-color:#ff6b6b;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.tab-nav[_ngcontent-%COMP%]{display:flex;gap:4px;margin-bottom:20px;background:#f5f5f5;padding:4px;border-radius:12px}.tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:12px 20px;border:none;background:transparent;font-size:14px;font-weight:500;color:#666;cursor:pointer;border-radius:8px;transition:all .2s}.tab-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:#333;box-shadow:0 2px 4px #0000001a}.tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){color:#333}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:15px;border-radius:8px;margin-bottom:20px;display:flex;justify-content:space-between;align-items:center}.error-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#c33;cursor:pointer;text-decoration:underline}.profile-section[_ngcontent-%COMP%], .students-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;box-shadow:0 2px 8px #0000001a}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid #f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:20px}.user-meta[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:13px}.user-role[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:2px 8px;border-radius:4px}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;color:#555;margin:0 0 16px;padding-bottom:8px;border-bottom:1px solid #eee}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:6px;color:#555;font-size:14px}.required[_ngcontent-%COMP%]{color:#f44336}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;box-sizing:border-box;font-family:inherit;transition:border-color .2s}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff6b6b}input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;color:#999}input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#c33}.error[_ngcontent-%COMP%]{color:#c33;font-size:12px;margin-top:4px}.hint[_ngcontent-%COMP%]{color:#999;font-size:12px;margin-top:4px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:24px;padding-top:24px;border-top:1px solid #eee}button[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#ff6b6b;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#ee5a5a}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#e0e0e0;color:#333}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d0d0d0}.btn-add[_ngcontent-%COMP%]{background:#4caf50;color:#fff;padding:10px 20px}.btn-add[_ngcontent-%COMP%]:hover{background:#45a049}.btn-back[_ngcontent-%COMP%]{background:none;color:#666;padding:8px 12px;font-size:14px}.btn-back[_ngcontent-%COMP%]:hover{color:#333}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666}.student-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}.student-card[_ngcontent-%COMP%]{display:flex;gap:16px;padding:16px;background:#f9f9f9;border:2px solid #e0e0e0;border-radius:12px;transition:all .2s}.student-card.eligible[_ngcontent-%COMP%]{border-color:#c8e6c9;background:#f1f8e9}.student-card.ineligible[_ngcontent-%COMP%]{border-color:#ffcdd2;background:#fff3e0}.student-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.student-avatar[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#ff6b6b,#ee5a5a);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:18px;flex-shrink:0}.student-info[_ngcontent-%COMP%]{flex:1;min-width:0}.student-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;color:#333}.student-details[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:4px}.age-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:12px;font-size:12px;font-weight:500;background:#fff3cd;color:#856404}.age-badge.eligible[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.age-badge[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{color:#28a745}.age-badge[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:#ffc107}.gender[_ngcontent-%COMP%]{font-size:12px;color:#666;padding:2px 8px;background:#e0e0e0;border-radius:12px}.dob[_ngcontent-%COMP%]{margin:4px 0 0;font-size:12px;color:#666}.eligibility-warning[_ngcontent-%COMP%]{margin:8px 0 0;font-size:12px;color:#d32f2f;font-weight:500}.student-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.btn-icon[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;border-radius:50%;background:#fff;border:1px solid #ddd;font-size:16px;cursor:pointer;transition:all .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0}.btn-icon.btn-delete[_ngcontent-%COMP%]:hover{background:#ffebee;border-color:#ef5350}.student-form-container[_ngcontent-%COMP%]{max-width:500px}.age-info[_ngcontent-%COMP%]{margin-top:8px;padding:12px;border-radius:8px;font-size:14px}.age-info.eligible[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.age-info.ineligible[_ngcontent-%COMP%]{background:#fff3e0;color:#e65100}.eligible-text[_ngcontent-%COMP%], .ineligible-text[_ngcontent-%COMP%]{margin-left:8px;font-weight:500}.login-prompt[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.login-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.login-prompt[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.login-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666}.btn-login[_ngcontent-%COMP%]{display:inline-block;padding:12px 32px;background:#ff6b6b;color:#fff;text-decoration:none;border-radius:8px;font-weight:500;transition:background .2s}.btn-login[_ngcontent-%COMP%]:hover{background:#ee5a5a}@media(max-width:600px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.student-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.student-avatar[_ngcontent-%COMP%]{margin:0 auto}.student-details[_ngcontent-%COMP%]{justify-content:center}.student-actions[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}}"]})};export{me as ProfileEditComponent};

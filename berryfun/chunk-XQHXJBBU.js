import{c as H}from"./chunk-Y4LJEQOQ.js";import{b as Z,c as K,d as Q,e as X,f as $,g as ee,i as te,j as ne,k as ie,n as oe,o as ae,p as re,q as de,r as le}from"./chunk-7AXV5RBH.js";import{b as J}from"./chunk-4K25L6M5.js";import"./chunk-OFYILGNH.js";import"./chunk-XQE4VKQH.js";import"./chunk-CFIO2EPB.js";import"./chunk-7VTHX3C4.js";import{a as Y}from"./chunk-PVPSCU6Z.js";import{d as q,ga as G,h as L,ha as T,ia as R,j as B,ja as j,k as U}from"./chunk-2LEHUDM5.js";import{Ab as i,Bb as O,Cb as S,Gb as C,Ha as d,Hb as x,Ib as b,R as M,Sa as W,W as m,X as _,ab as p,bb as g,db as A,eb as z,fb as y,gb as e,ha as E,hb as t,ib as D,mb as P,ob as v,qb as s,wb as f,yb as w}from"./chunk-EVJ2WVWM.js";var me=(r,a)=>a.id;function _e(r,a){r&1&&(e(0,"div",15),D(1,"div",17),e(2,"p"),i(3,"Loading..."),t()())}function pe(r,a){if(r&1){let n=P();e(0,"div",20)(1,"strong"),i(2,"Error:"),t(),i(3),e(4,"button",19),v("click",function(){m(n);let o=s(2);return _(o.clearErrors())}),i(5,"Close"),t()()}if(r&2){let n=s(2);d(3),S(" ",n.userService.error()," ")}}function ge(r,a){r&1&&(e(0,"span",25),i(1,"Admin"),t())}function ue(r,a){r&1&&(e(0,"div",33),i(1,"Please enter a name between 2-50 characters"),t())}function fe(r,a){r&1&&(e(0,"div",33),i(1,"Please enter a valid phone number (e.g., (650) 731-2928)"),t())}function Ce(r,a){r&1&&(e(0,"div",33),i(1,"Please enter a street address"),t())}function xe(r,a){r&1&&(e(0,"div",33),i(1,"Please enter a city"),t())}function be(r,a){r&1&&(e(0,"div",33),i(1,"Please enter a state"),t())}function he(r,a){r&1&&(e(0,"div",33),i(1,"Please enter a zip code"),t())}function ve(r,a){r&1&&(e(0,"div",33),i(1,"Please enter emergency contact name"),t())}function Se(r,a){r&1&&(e(0,"div",33),i(1,"Please enter a valid phone number (e.g., (650) 731-2929)"),t())}function Pe(r,a){r&1&&(e(0,"div",33),i(1,"Please select a relationship"),t())}function ye(r,a){if(r&1){let n=P();e(0,"div",21)(1,"div",23)(2,"h2"),i(3,"Profile"),t(),e(4,"div",24),p(5,ge,2,0,"span",25),t()(),e(6,"form",26,0),v("ngSubmit",function(){m(n);let o=s(2);return _(o.onSubmitProfile())}),e(8,"div",27)(9,"h3"),i(10,"Basic Information"),t(),e(11,"div",28)(12,"div",29)(13,"label",30),i(14,"Parent Name "),e(15,"span",31),i(16,"*"),t()(),e(17,"input",32,1),b("ngModelChange",function(o){m(n);let c=s(2);return x(c.formData.displayName,o)||(c.formData.displayName=o),_(o)}),t(),p(19,ue,2,0,"div",33),t(),e(20,"div",29)(21,"label",34),i(22,"Email"),t(),D(23,"input",35),e(24,"div",36),i(25," Email is provided by Google account and cannot be modified "),t()()()(),e(26,"div",27)(27,"h3"),i(28,"Contact Information"),t(),e(29,"div",28)(30,"div",29)(31,"label",37),i(32,"Phone Number "),e(33,"span",31),i(34,"*"),t()(),e(35,"input",38,2),b("ngModelChange",function(o){m(n);let c=s(2);return x(c.formData.phone,o)||(c.formData.phone=o),_(o)}),t(),p(37,fe,2,0,"div",33),t(),e(38,"div",29)(39,"label",39),i(40,"WeChat ID"),t(),e(41,"input",40),b("ngModelChange",function(o){m(n);let c=s(2);return x(c.formData.wechat,o)||(c.formData.wechat=o),_(o)}),t()()()(),e(42,"div",27)(43,"h3"),i(44,"Home Address"),t(),e(45,"div",29)(46,"label",41),i(47,"Street Address "),e(48,"span",31),i(49,"*"),t()(),e(50,"input",42,3),b("ngModelChange",function(o){m(n);let c=s(2);return x(c.formData.address.street,o)||(c.formData.address.street=o),_(o)}),t(),p(52,Ce,2,0,"div",33),t(),e(53,"div",28)(54,"div",29)(55,"label",43),i(56,"City "),e(57,"span",31),i(58,"*"),t()(),e(59,"input",44,4),b("ngModelChange",function(o){m(n);let c=s(2);return x(c.formData.address.city,o)||(c.formData.address.city=o),_(o)}),t(),e(61,"datalist",45),D(62,"option",46)(63,"option",47)(64,"option",48)(65,"option",49)(66,"option",50)(67,"option",51)(68,"option",52)(69,"option",53)(70,"option",54)(71,"option",55),t(),p(72,xe,2,0,"div",33),t(),e(73,"div",29)(74,"label",56),i(75,"State "),e(76,"span",31),i(77,"*"),t()(),e(78,"input",57,5),b("ngModelChange",function(o){m(n);let c=s(2);return x(c.formData.address.state,o)||(c.formData.address.state=o),_(o)}),t(),e(80,"datalist",58),D(81,"option",59),t(),e(82,"div",36),i(83,'Press Tab to accept "CA"'),t(),p(84,be,2,0,"div",33),t(),e(85,"div",29)(86,"label",60),i(87,"Zip Code "),e(88,"span",31),i(89,"*"),t()(),e(90,"input",61,6),b("ngModelChange",function(o){m(n);let c=s(2);return x(c.formData.address.zipCode,o)||(c.formData.address.zipCode=o),_(o)}),t(),p(92,he,2,0,"div",33),t()()(),e(93,"div",27)(94,"h3"),i(95,"Emergency Contact"),t(),e(96,"div",28)(97,"div",29)(98,"label",62),i(99,"Name "),e(100,"span",31),i(101,"*"),t()(),e(102,"input",63,7),b("ngModelChange",function(o){m(n);let c=s(2);return x(c.formData.emergencyContact.name,o)||(c.formData.emergencyContact.name=o),_(o)}),t(),p(104,ve,2,0,"div",33),t(),e(105,"div",29)(106,"label",64),i(107,"Phone "),e(108,"span",31),i(109,"*"),t()(),e(110,"input",65,8),b("ngModelChange",function(o){m(n);let c=s(2);return x(c.formData.emergencyContact.phone,o)||(c.formData.emergencyContact.phone=o),_(o)}),t(),p(112,Se,2,0,"div",33),t(),e(113,"div",29)(114,"label",66),i(115,"Relationship "),e(116,"span",31),i(117,"*"),t()(),e(118,"select",67,9),b("ngModelChange",function(o){m(n);let c=s(2);return x(c.formData.emergencyContact.relationship,o)||(c.formData.emergencyContact.relationship=o),_(o)}),e(120,"option",68),i(121,"Please select"),t(),e(122,"option",69),i(123,"Spouse"),t(),e(124,"option",70),i(125,"Parent"),t(),e(126,"option",71),i(127,"Sibling"),t(),e(128,"option",72),i(129,"Friend"),t(),e(130,"option",73),i(131,"Other"),t()(),p(132,Pe,2,0,"div",33),t()()(),e(133,"div",74)(134,"button",75),i(135),t()()()()}if(r&2){let n=f(7),l=f(18),o=f(36),c=f(51),h=f(60),F=f(79),k=f(91),V=f(103),N=f(111),I=f(119),se=s(),u=s();d(5),g(u.userService.isAdmin()?5:-1),d(12),C("ngModel",u.formData.displayName),d(2),g(l.invalid&&l.touched?19:-1),d(4),y("value",se.email),d(12),C("ngModel",u.formData.phone),y("pattern",u.phonePattern),d(2),g(o.invalid&&o.touched?37:-1),d(4),C("ngModel",u.formData.wechat),d(9),C("ngModel",u.formData.address.street),d(2),g(c.invalid&&c.touched?52:-1),d(7),C("ngModel",u.formData.address.city),d(13),g(h.invalid&&h.touched?72:-1),d(6),C("ngModel",u.formData.address.state),d(6),g(F.invalid&&F.touched?84:-1),d(6),C("ngModel",u.formData.address.zipCode),d(2),g(k.invalid&&k.touched?92:-1),d(10),C("ngModel",u.formData.emergencyContact.name),d(2),g(V.invalid&&V.touched?104:-1),d(6),C("ngModel",u.formData.emergencyContact.phone),y("pattern",u.phonePattern),d(2),g(N.invalid&&N.touched?112:-1),d(6),C("ngModel",u.formData.emergencyContact.relationship),d(14),g(I.invalid&&I.touched?132:-1),d(2),y("disabled",n.invalid||u.saving()||!u.hasProfileChanges()),d(),S(" ",u.saving()?"Saving...":"Save Changes"," ")}}function Me(r,a){r&1&&(e(0,"div",78),i(1,"Loading student list..."),t())}function Ee(r,a){if(r&1){let n=P();e(0,"div",79)(1,"div",81),i(2,"\u{1F466}\u{1F467}"),t(),e(3,"h3"),i(4,"No students added yet"),t(),e(5,"p"),i(6,"Add your children's information to register for summer camp activities"),t(),e(7,"button",82),v("click",function(){m(n);let o=s(4);return _(o.onAddStudent())}),i(8,"Add First Student"),t()()}}function we(r,a){r&1&&(e(0,"span",89),i(1,"\u2713"),t())}function De(r,a){r&1&&(e(0,"span",90),i(1,"!"),t())}function Oe(r,a){r&1&&(e(0,"p",93),i(1," Age does not meet registration requirements (5-12 years) "),t())}function Te(r,a){if(r&1){let n=P();e(0,"div",84)(1,"div",85),i(2),t(),e(3,"div",86)(4,"h4"),i(5),t(),e(6,"div",87)(7,"span",88),i(8),p(9,we,2,0,"span",89)(10,De,2,0,"span",90),t(),e(11,"span",91),i(12),t()(),e(13,"p",92),i(14),t(),p(15,Oe,2,0,"p",93),t(),e(16,"div",94)(17,"button",95),v("click",function(){let o=m(n).$implicit,c=s(5);return _(c.onEditStudent(o))}),i(18," \u270F\uFE0F "),t(),e(19,"button",96),v("click",function(){let o=m(n).$implicit,c=s(5);return _(c.onDeleteStudent(o))}),i(20," \u{1F5D1}\uFE0F "),t()()()}if(r&2){let n=a.$implicit,l=s(5);w("eligible",l.isEligible(n.dob))("ineligible",!l.isEligible(n.dob)),d(2),S(" ",l.getInitials(n.fullName)," "),d(3),O(n.fullName),d(2),w("eligible",l.isEligible(n.dob)),d(),S(" ",l.getAge(n.dob)," yrs "),d(),g(l.isEligible(n.dob)?9:10),d(3),O(l.formatGender(n.gender)),d(2),S("Birthday: ",l.formatDate(n.dob)),d(),g(l.isEligible(n.dob)?-1:15)}}function Fe(r,a){if(r&1&&(e(0,"div",80),A(1,Te,21,13,"div",83,me),t()),r&2){let n=s(4);d(),z(n.userService.students())}}function ke(r,a){if(r&1){let n=P();e(0,"div",23)(1,"h2"),i(2,"Student Management"),t(),e(3,"button",77),v("click",function(){m(n);let o=s(3);return _(o.onAddStudent())}),i(4,"+ Add Student"),t()(),p(5,Me,2,0,"div",78)(6,Ee,9,0,"div",79)(7,Fe,3,0,"div",80)}if(r&2){let n=s(3);d(5),g(n.userService.loading()?5:n.userService.students().length===0?6:7)}}function Ve(r,a){r&1&&(e(0,"div",33),i(1,"Please enter a name between 2-50 characters"),t())}function Ne(r,a){r&1&&(e(0,"div",33),i(1,"Please select a gender"),t())}function Ie(r,a){r&1&&(e(0,"div",33),i(1,"Please select a valid date of birth"),t())}function We(r,a){r&1&&(e(0,"span",111),i(1,"\u2713 Meets registration requirements"),t())}function Ae(r,a){r&1&&(e(0,"span",112),i(1,"\u2717 Does not meet requirements (ages 5-12)"),t())}function ze(r,a){if(r&1&&(e(0,"div",110),i(1),p(2,We,2,0,"span",111)(3,Ae,2,0,"span",112),t()),r&2){let n=s(4);w("eligible",n.isStudentFormEligible())("ineligible",!n.isStudentFormEligible()),d(),S(" Current age: ",n.getStudentFormAge()," yrs "),d(),g(n.isStudentFormEligible()?2:3)}}function qe(r,a){if(r&1){let n=P();e(0,"div",76)(1,"div",23)(2,"button",97),v("click",function(){m(n);let o=s(3);return _(o.viewMode.set("profile"))}),i(3,"\u2190 Back"),t(),e(4,"h2"),i(5),t()(),e(6,"form",26,10),v("ngSubmit",function(){m(n);let o=s(3);return _(o.onSubmitStudent())}),e(8,"div",27)(9,"div",28)(10,"div",29)(11,"label",98),i(12,"Name "),e(13,"span",31),i(14,"*"),t()(),e(15,"input",99,11),b("ngModelChange",function(o){m(n);let c=s(3);return x(c.studentFormData.fullName,o)||(c.studentFormData.fullName=o),_(o)}),t(),p(17,Ve,2,0,"div",33),t(),e(18,"div",29)(19,"label",100),i(20,"Gender "),e(21,"span",31),i(22,"*"),t()(),e(23,"select",101,12),b("ngModelChange",function(o){m(n);let c=s(3);return x(c.studentFormData.gender,o)||(c.studentFormData.gender=o),_(o)}),e(25,"option",68),i(26,"Please select"),t(),e(27,"option",102),i(28,"Male"),t(),e(29,"option",103),i(30,"Female"),t()(),p(31,Ne,2,0,"div",33),t()(),e(32,"div",29)(33,"label",104),i(34,"Date of Birth "),e(35,"span",31),i(36,"*"),t()(),e(37,"input",105,13),b("ngModelChange",function(o){m(n);let c=s(3);return x(c.studentFormData.dob,o)||(c.studentFormData.dob=o),_(o)}),v("ngModelChange",function(){m(n);let o=s(3);return _(o.onStudentDobChange())}),t(),p(39,Ie,2,0,"div",33),p(40,ze,4,6,"div",106),t(),e(41,"div",29)(42,"label",107),i(43,"Allergy Information"),t(),e(44,"textarea",108),b("ngModelChange",function(o){m(n);let c=s(3);return x(c.studentFormData.allergies,o)||(c.studentFormData.allergies=o),_(o)}),t()()(),e(45,"div",74)(46,"button",75),i(47),t(),e(48,"button",109),v("click",function(){m(n);let o=s(3);return _(o.viewMode.set("profile"))}),i(49," Cancel "),t()()()()}if(r&2){let n=f(7),l=f(16),o=f(24),c=f(38),h=s(3);d(5),O(h.viewMode()==="add-student"?"Add Student":"Edit Student"),d(10),C("ngModel",h.studentFormData.fullName),d(2),g(l.invalid&&l.touched?17:-1),d(6),C("ngModel",h.studentFormData.gender),d(8),g(o.invalid&&o.touched?31:-1),d(6),C("ngModel",h.studentFormData.dob),y("max",h.maxStudentDate)("min",h.minStudentDate),d(2),g(c.invalid&&c.touched?39:-1),d(),g(h.studentFormData.dob?40:-1),d(4),C("ngModel",h.studentFormData.allergies),d(2),y("disabled",n.invalid||h.savingStudent()),d(),S(" ",h.savingStudent()?"Saving...":h.viewMode()==="add-student"?"Add Student":"Save Changes"," ")}}function Le(r,a){if(r&1&&(e(0,"div",22),p(1,ke,8,1)(2,qe,50,13,"div",76),t()),r&2){let n=s(2);d(),g(n.viewMode()==="profile"?1:2)}}function Be(r,a){if(r&1){let n=P();e(0,"div",18)(1,"button",19),v("click",function(){m(n);let o=s();return _(o.switchTab("profile"))}),i(2," Profile "),t(),e(3,"button",19),v("click",function(){m(n);let o=s();return _(o.switchTab("students"))}),i(4),t()(),p(5,pe,6,1,"div",20),p(6,ye,136,25,"div",21),p(7,Le,3,1,"div",22)}if(r&2){let n=s();d(),w("active",n.activeTab()==="profile"),d(2),w("active",n.activeTab()==="students"),d(),S(" Student Management (",n.userService.studentCount(),") "),d(),g(n.userService.error()?5:-1),d(),g(n.activeTab()==="profile"?6:-1),d(),g(n.activeTab()==="students"?7:-1)}}function Ue(r,a){r&1&&(e(0,"div",16)(1,"div",113),i(2,"\u{1F464}"),t(),e(3,"h3"),i(4,"Please log in first"),t(),e(5,"p"),i(6,"Log in to manage your profile and student information"),t(),e(7,"a",114),i(8,"Login / Register"),t()())}var ce=class r{userService=M(J);authService=M(H);configService=M(Y);router=M(B);route=M(L);saving=E(!1);savingStudent=E(!1);activeTab=E("profile");viewMode=E("profile");editingStudentId=E(null);queryParamSubscription=null;phonePattern=G;originalFormData="";formData={displayName:"",phone:"",wechat:"",address:{street:"",city:"",state:"CA",zipCode:""},emergencyContact:{name:"",phone:"",relationship:""}};studentFormData={fullName:"",dob:"",gender:"",allergies:"None"};get maxStudentDate(){return this.getDateString(5)}get minStudentDate(){return this.getDateString(12)}ngOnInit(){this.queryParamSubscription=this.route.queryParams.subscribe(n=>{let l=n.tab;l==="students"?(this.activeTab.set("students"),this.viewMode.set("profile")):l==="info"?(this.activeTab.set("profile"),this.viewMode.set("profile")):(this.activeTab.set("profile"),this.viewMode.set("profile"),this.router.navigate([],{relativeTo:this.route,queryParams:{tab:"info"},replaceUrl:!0}))});let a=this.userService.currentUser();a&&this.loadFormData(a)}ngOnDestroy(){this.queryParamSubscription?.unsubscribe()}switchTab(a){this.activeTab.set(a),this.viewMode.set("profile");let n=a==="students"?"students":"info";this.router.navigate([],{relativeTo:this.route,queryParams:{tab:n},replaceUrl:!0})}loadFormData(a){this.formData={displayName:a.displayName,phone:a.contactInfo?.phone??"",wechat:a.contactInfo?.wechat??"",address:{street:a.contactInfo?.address?.street??"",city:a.contactInfo?.address?.city??"",state:a.contactInfo?.address?.state||"CA",zipCode:a.contactInfo?.address?.zipCode??""},emergencyContact:{name:a.contactInfo?.emergencyContact?.name??"",phone:a.contactInfo?.emergencyContact?.phone??"",relationship:a.contactInfo?.emergencyContact?.relationship??""}},this.originalFormData=JSON.stringify(this.formData)}hasProfileChanges(){return JSON.stringify(this.formData)!==this.originalFormData}async onSubmitProfile(){if(this.saving.set(!0),!this.userService.currentUser()){alert("Please log in first"),this.saving.set(!1);return}try{let n={displayName:this.formData.displayName,contactInfo:{phone:this.formData.phone,wechat:this.formData.wechat||void 0,address:this.formData.address,emergencyContact:this.formData.emergencyContact}};await this.userService.updateProfile(n),this.originalFormData=JSON.stringify(this.formData)}catch(n){console.error("Failed to update profile:",n)}finally{this.saving.set(!1)}}onAddStudent(){this.editingStudentId.set(null),this.studentFormData={fullName:"",dob:"",gender:"",allergies:"None"},this.viewMode.set("add-student")}onEditStudent(a){this.editingStudentId.set(a.id),this.studentFormData={fullName:a.fullName,dob:a.dob,gender:a.gender,allergies:a.allergies},this.viewMode.set("edit-student")}async onDeleteStudent(a){if(confirm(`Are you sure you want to delete student "${a.fullName}"? This action cannot be undone.`))try{await this.userService.deleteStudent(a.id),alert("Student deleted")}catch(n){console.error("Failed to delete student:",n)}}async onSubmitStudent(){if(this.savingStudent.set(!0),!this.userService.currentUser()){alert("Please log in first"),this.savingStudent.set(!1);return}try{if(this.viewMode()==="add-student")await this.userService.createStudent({fullName:this.studentFormData.fullName,dob:this.studentFormData.dob,gender:this.studentFormData.gender,allergies:this.studentFormData.allergies||"None"});else{let n=this.editingStudentId();n&&await this.userService.updateStudent(n,{fullName:this.studentFormData.fullName,dob:this.studentFormData.dob,gender:this.studentFormData.gender,allergies:this.studentFormData.allergies||"None"})}this.viewMode.set("profile")}catch(n){console.error("Failed to save student:",n)}finally{this.savingStudent.set(!1)}}onStudentDobChange(){}getAge(a){let n=this.configService.config();if(!n)return 0;let l=T(n.currentActiveYear);return R(a,l)}isEligible(a){let n=this.configService.config();if(!n)return!1;let l=T(n.currentActiveYear);return j(a,l)}getStudentFormAge(){return this.studentFormData.dob?this.getAge(this.studentFormData.dob):0}isStudentFormEligible(){return this.studentFormData.dob?this.isEligible(this.studentFormData.dob):!1}getInitials(a){return a.slice(0,2)}formatGender(a){return a==="M"?"Male":a==="F"?"Female":"Other"}formatDate(a){return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}clearErrors(){this.userService.clearError()}getDateString(a){return`${(this.configService.config()?.currentActiveYear??2025)-a}-01-01`}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=W({type:r,selectors:[["app-profile-edit"]],decls:4,vars:1,consts:[["profileForm","ngForm"],["displayNameInput","ngModel"],["phoneInput","ngModel"],["streetInput","ngModel"],["cityInput","ngModel"],["stateInput","ngModel"],["zipCodeInput","ngModel"],["emergencyNameInput","ngModel"],["emergencyPhoneInput","ngModel"],["relationshipInput","ngModel"],["studentForm","ngForm"],["studentNameInput","ngModel"],["studentGenderInput","ngModel"],["studentDobInput","ngModel"],[1,"profile-page"],[1,"loading-container"],[1,"login-prompt"],[1,"spinner"],[1,"tab-nav"],[3,"click"],[1,"error-message"],[1,"profile-section"],[1,"students-section"],[1,"section-header"],[1,"user-meta"],[1,"user-role"],[3,"ngSubmit"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","displayName"],[1,"required"],["type","text","id","displayName","name","displayName","required","","minlength","2","maxlength","50",3,"ngModelChange","ngModel"],[1,"error"],["for","email"],["type","email","id","email","disabled","",3,"value"],[1,"hint"],["for","phone"],["type","tel","id","phone","name","phone","required","","placeholder","(650) 731-2928",3,"ngModelChange","ngModel","pattern"],["for","wechat"],["type","text","id","wechat","name","wechat","placeholder","Optional",3,"ngModelChange","ngModel"],["for","street"],["type","text","id","street","name","street","required","","placeholder","123 Main St, Apt 4",3,"ngModelChange","ngModel"],["for","city"],["type","text","id","city","name","city","required","","placeholder","Santa Clara","list","citySuggestions","autocomplete","off",3,"ngModelChange","ngModel"],["id","citySuggestions"],["value","Santa Clara"],["value","San Jose"],["value","Sunnyvale"],["value","Mountain View"],["value","Cupertino"],["value","Palo Alto"],["value","Milpitas"],["value","Campbell"],["value","Los Altos"],["value","Fremont"],["for","state"],["type","text","id","state","name","state","required","","placeholder","CA","maxlength","2","list","stateSuggestions","autocomplete","off",3,"ngModelChange","ngModel"],["id","stateSuggestions"],["value","CA"],["for","zipCode"],["type","text","id","zipCode","name","zipCode","required","","placeholder","94301",3,"ngModelChange","ngModel"],["for","emergencyName"],["type","text","id","emergencyName","name","emergencyName","required","",3,"ngModelChange","ngModel"],["for","emergencyPhone"],["type","tel","id","emergencyPhone","name","emergencyPhone","required","","placeholder","(650) 731-2929",3,"ngModelChange","ngModel","pattern"],["for","relationship"],["id","relationship","name","relationship","required","",3,"ngModelChange","ngModel"],["value",""],["value","Spouse"],["value","Parent"],["value","Sibling"],["value","Friend"],["value","Other"],[1,"form-actions"],["type","submit",1,"btn-primary",3,"disabled"],[1,"student-form-container"],[1,"btn-add",3,"click"],[1,"loading"],[1,"empty-state"],[1,"student-grid"],[1,"empty-icon"],[1,"btn-primary",3,"click"],[1,"student-card",3,"eligible","ineligible"],[1,"student-card"],[1,"student-avatar"],[1,"student-info"],[1,"student-details"],[1,"age-badge"],[1,"check"],[1,"warning"],[1,"gender"],[1,"dob"],[1,"eligibility-warning"],[1,"student-actions"],["title","Edit",1,"btn-icon",3,"click"],["title","Delete",1,"btn-icon","btn-delete",3,"click"],[1,"btn-back",3,"click"],["for","studentName"],["type","text","id","studentName","name","studentName","required","","minlength","2","maxlength","50",3,"ngModelChange","ngModel"],["for","studentGender"],["id","studentGender","name","studentGender","required","",3,"ngModelChange","ngModel"],["value","M"],["value","F"],["for","studentDob"],["type","date","id","studentDob","name","studentDob","required","",3,"ngModelChange","ngModel","max","min"],[1,"age-info",3,"eligible","ineligible"],["for","allergies"],["id","allergies","name","allergies","rows","3","placeholder",'If no allergies, please enter "None"',3,"ngModelChange","ngModel"],["type","button",1,"btn-secondary",3,"click"],[1,"age-info"],[1,"eligible-text"],[1,"ineligible-text"],[1,"login-icon"],["routerLink","/login",1,"btn-login"]],template:function(n,l){if(n&1&&(e(0,"div",14),p(1,_e,4,0,"div",15)(2,Be,8,8)(3,Ue,9,0,"div",16),t()),n&2){let o;d(),g(l.userService.loading()||l.authService.loading()?1:(o=l.userService.currentUser())?2:3,o)}},dependencies:[q,le,ee,ne,ie,Z,te,K,Q,oe,ae,re,de,$,X,U],styles:[".profile-page[_ngcontent-%COMP%]{max-width:800px;margin:20px auto;padding:0 20px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px;color:#666}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f0f0f0;border-top-color:#ff6b6b;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.tab-nav[_ngcontent-%COMP%]{display:flex;gap:4px;margin-bottom:20px;background:#f5f5f5;padding:4px;border-radius:12px}.tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:12px 20px;border:none;background:transparent;font-size:14px;font-weight:500;color:#666;cursor:pointer;border-radius:8px;transition:all .2s}.tab-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:#333;box-shadow:0 2px 4px #0000001a}.tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){color:#333}.error-message[_ngcontent-%COMP%]{background:#fee;color:#c33;padding:15px;border-radius:8px;margin-bottom:20px;display:flex;justify-content:space-between;align-items:center}.error-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#c33;cursor:pointer;text-decoration:underline}.profile-section[_ngcontent-%COMP%], .students-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;box-shadow:0 2px 8px #0000001a}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid #f0f0f0}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:20px}.user-meta[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:13px}.user-role[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:2px 8px;border-radius:4px}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;color:#555;margin:0 0 16px;padding-bottom:8px;border-bottom:1px solid #eee}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:6px;color:#555;font-size:14px}.required[_ngcontent-%COMP%]{color:#f44336}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;box-sizing:border-box;font-family:inherit;transition:border-color .2s}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff6b6b}input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;color:#999}input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#c33}.error[_ngcontent-%COMP%]{color:#c33;font-size:12px;margin-top:4px}.hint[_ngcontent-%COMP%]{color:#999;font-size:12px;margin-top:4px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:24px;padding-top:24px;border-top:1px solid #eee}button[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background:#ff6b6b;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#ee5a5a}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#e0e0e0;color:#333}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d0d0d0}.btn-add[_ngcontent-%COMP%]{background:#4caf50;color:#fff;padding:10px 20px}.btn-add[_ngcontent-%COMP%]:hover{background:#45a049}.btn-back[_ngcontent-%COMP%]{background:none;color:#666;padding:8px 12px;font-size:14px}.btn-back[_ngcontent-%COMP%]:hover{color:#333}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666}.student-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}.student-card[_ngcontent-%COMP%]{display:flex;gap:16px;padding:16px;background:#f9f9f9;border:2px solid #e0e0e0;border-radius:12px;transition:all .2s}.student-card.eligible[_ngcontent-%COMP%]{border-color:#c8e6c9;background:#f1f8e9}.student-card.ineligible[_ngcontent-%COMP%]{border-color:#ffcdd2;background:#fff3e0}.student-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.student-avatar[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#ff6b6b,#ee5a5a);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:18px;flex-shrink:0}.student-info[_ngcontent-%COMP%]{flex:1;min-width:0}.student-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;color:#333}.student-details[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:4px}.age-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:12px;font-size:12px;font-weight:500;background:#fff3cd;color:#856404}.age-badge.eligible[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.age-badge[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{color:#28a745}.age-badge[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:#ffc107}.gender[_ngcontent-%COMP%]{font-size:12px;color:#666;padding:2px 8px;background:#e0e0e0;border-radius:12px}.dob[_ngcontent-%COMP%]{margin:4px 0 0;font-size:12px;color:#666}.eligibility-warning[_ngcontent-%COMP%]{margin:8px 0 0;font-size:12px;color:#d32f2f;font-weight:500}.student-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.btn-icon[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;border-radius:50%;background:#fff;border:1px solid #ddd;font-size:16px;cursor:pointer;transition:all .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0}.btn-icon.btn-delete[_ngcontent-%COMP%]:hover{background:#ffebee;border-color:#ef5350}.student-form-container[_ngcontent-%COMP%]{max-width:500px}.age-info[_ngcontent-%COMP%]{margin-top:8px;padding:12px;border-radius:8px;font-size:14px}.age-info.eligible[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.age-info.ineligible[_ngcontent-%COMP%]{background:#fff3e0;color:#e65100}.eligible-text[_ngcontent-%COMP%], .ineligible-text[_ngcontent-%COMP%]{margin-left:8px;font-weight:500}.login-prompt[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.login-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.login-prompt[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.login-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666}.btn-login[_ngcontent-%COMP%]{display:inline-block;padding:12px 32px;background:#ff6b6b;color:#fff;text-decoration:none;border-radius:8px;font-weight:500;transition:background .2s}.btn-login[_ngcontent-%COMP%]:hover{background:#ee5a5a}@media(max-width:600px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.student-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.student-avatar[_ngcontent-%COMP%]{margin:0 auto}.student-details[_ngcontent-%COMP%]{justify-content:center}.student-actions[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}}"]})};export{ce as ProfileEditComponent};

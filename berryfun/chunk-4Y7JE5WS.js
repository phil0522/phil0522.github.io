import{a as k,b as h}from"./chunk-XKJWOYIG.js";import{I as M,J as O,K as S,i as b}from"./chunk-RLRP2YP4.js";import{$a as w,Ab as d,Bb as l,Cb as p,Db as f,Ea as n,Pa as P,Rb as x,Ub as y,Za as s,_a as m,bb as _,cb as u,hb as r,ib as i,jb as v,ob as c,yb as C}from"./chunk-WXZFQYIJ.js";var B=(e,o)=>o.sessionId,g=(e,o)=>o.type;function D(e,o){if(e&1&&(r(0,"div",16)(1,"span",17),d(2,"Lunch"),i(),r(3,"span",18),d(4),i()()),e&2){let t=c().$implicit,a=c(3);n(4),l(a.formatPrice(t.lunchPrice))}}function T(e,o){if(e&1&&(r(0,"div",16)(1,"span",17),d(2,"Extended Care"),i(),r(3,"span",18),d(4),i()()),e&2){let t=c().$implicit,a=c(3);n(4),l(a.formatPrice(t.extendedCarePrice))}}function F(e,o){if(e&1&&(r(0,"span",2),d(1),i(),r(2,"span",3),d(3),i()),e&2){let t=c().$implicit,a=c(3);n(),f("",a.formatPrice(t.perStudentPrice)," \xD7 ",t.studentCount),n(2),l(a.formatPrice(t.sessionSubtotal))}}function $(e,o){if(e&1&&(v(0,"span",2),r(1,"span",3),d(2),i()),e&2){let t=c().$implicit,a=c(3);n(2),l(a.formatPrice(t.perStudentPrice))}}function z(e,o){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",20),d(3),i(),d(4),i(),r(5,"span",21),d(6),i()()),e&2){let t=o.$implicit,a=c(4);n(3),l(a.getDiscountIcon(t.type)),n(),p(" ",t.description," "),n(2),l(a.formatPrice(t.amount))}}function N(e,o){if(e&1&&(r(0,"div",12)(1,"div",14),d(2),i(),r(3,"div",15)(4,"div",16)(5,"span",17),d(6,"Base"),i(),r(7,"span",18),d(8),i()(),s(9,D,5,1,"div",16),s(10,T,5,1,"div",16),r(11,"div",19),s(12,F,4,3)(13,$,3,1),i(),_(14,z,7,3,"div",4,g),i()()),e&2){let t=o.$implicit,a=c(3);n(2),l(t.sessionName),n(6),l(a.formatPrice(t.basePrice)),n(),m(t.lunchPrice>0?9:-1),n(),m(t.extendedCarePrice>0?10:-1),n(2),m(t.studentCount>1?12:13),n(2),u(t.discounts)}}function R(e,o){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",20),d(3),i(),d(4),i(),r(5,"span",21),d(6),i()()),e&2){let t=o.$implicit,a=c(4);n(3),l(a.getDiscountIcon(t.type)),n(),p(" ",t.description," "),n(2),l(a.formatPrice(t.amount))}}function j(e,o){if(e&1&&(r(0,"div",13)(1,"div",22),d(2,"Discounts"),i(),_(3,R,7,3,"div",4,g),i()),e&2){let t=c(2);n(3),u(t.pricing.globalDiscounts)}}function A(e,o){if(e&1&&(_(0,N,16,5,"div",12,B),s(2,j,5,0,"div",13)),e&2){let t=c();u(t.pricing.sessionBreakdowns),n(2),m(t.pricing.globalDiscounts&&t.pricing.globalDiscounts.length>0?2:-1)}}function L(e,o){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",20),d(3),i(),d(4),i(),r(5,"span",21),d(6),i()()),e&2){let t=o.$implicit,a=c(3);n(3),l(a.getDiscountIcon(t.type)),n(),p(" ",t.description," "),n(2),l(a.formatPrice(t.amount))}}function Y(e,o){if(e&1&&(r(0,"div",23)(1,"span",2),d(2,"Subtotal"),i(),r(3,"span",3),d(4),i()(),_(5,L,7,3,"div",4,g)),e&2){let t=c(),a=c();n(4),l(a.formatPrice(t.pricing.subtotal)),n(),u(t.pricing.discounts)}}function q(e,o){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",20),d(3,"\u{1F39F}\uFE0F"),i(),d(4," Coupon Credit "),i(),r(5,"span",21),d(6),i()()),e&2){let t=c(),a=c();n(6),p("-",a.formatPrice(t.couponCredit))}}function G(e,o){if(e&1&&(r(0,"div",5)(1,"span",2),d(2,"Paid"),i(),r(3,"span",24),d(4),i()()),e&2){let t=c(),a=c();n(4),p("-",a.formatPrice(t.totalPaid))}}function H(e,o){if(e&1&&(r(0,"div",6)(1,"span",2),d(2,"Refunded"),i(),r(3,"span",25),d(4),i()()),e&2){let t=c(),a=c();n(4),p("+",a.formatPrice(t.totalRefunded))}}function J(e,o){if(e&1&&(r(0,"div",23)(1,"span",2),d(2),i(),r(3,"span",3),d(4),i()()),e&2){let t=o.$implicit,a=c(3);C("fee",t.amount>0)("credit",t.amount<0),n(2),l(t.description),n(),C("fee-value",t.amount>0)("credit-value",t.amount<0),n(),f(" ",t.amount>=0?"+":"","",a.formatPrice(t.amount)," ")}}function K(e,o){if(e&1&&_(0,J,5,11,"div",26,w),e&2){let t=c();u(t.processingFees)}}function Q(e,o){e&1&&(r(0,"div",9),d(1,"Paid in Full"),i())}function U(e,o){if(e&1&&(r(0,"div",10),d(1),i()),e&2){let t=c(),a=c();n(),p("Refund of ",a.formatPrice(a.Math.abs(t.amountDue))," due to customer")}}function V(e,o){if(e&1&&(r(0,"div",11),d(1),i()),e&2){let t=c(2);n(),p("You saved ",t.formatPrice(t.totalSavings()),"!")}}function W(e,o){if(e&1&&(r(0,"div",0),s(1,A,3,1)(2,Y,7,1),r(3,"div",1)(4,"span",2),d(5,"Order Total"),i(),r(6,"span",3),d(7),i()(),s(8,q,7,1,"div",4),s(9,G,5,1,"div",5),s(10,H,5,1,"div",6),s(11,K,2,0),v(12,"div",7),r(13,"div",8)(14,"span",2),d(15),i(),r(16,"span",3),d(17),i()(),s(18,Q,2,0,"div",9),s(19,U,2,1,"div",10),s(20,V,2,1,"div",11),i()),e&2){let t=o,a=c();n(),m(a.hasBreakdowns()?1:2),n(6),l(a.formatPrice(a.orderTotal())),n(),m(t.couponCredit>0?8:-1),n(),m(t.totalPaid>0?9:-1),n(),m(t.totalRefunded>0?10:-1),n(),m(t.processingFees&&t.processingFees.length>0?11:-1),n(4),l(t.amountDue<0?"Refund Due":"Amount Due"),n(),C("paid-in-full",t.amountDue===0)("refund-due",t.amountDue<0),n(),p(" ",t.amountDue<0?a.formatPrice(a.Math.abs(t.amountDue)):a.formatPrice(t.amountDue)," "),n(),m(t.amountDue===0&&t.totalPaid>0?18:-1),n(),m(t.amountDue<0?19:-1),n(),m(a.totalSavings()>0?20:-1)}}var I=class e{formatPrice=k;getDiscountIcon=h;Math=Math;data=y(null);hasBreakdowns=x(()=>{let o=this.data();return!!o&&S(o.pricing.sessionBreakdowns)});orderTotal=x(()=>{let o=this.data();return o?M(o.pricing.subtotal,o.pricing.discounts):0});totalSavings=x(()=>{let o=this.data();return o?O(o.pricing.discounts,o.couponCredit):0});static \u0275fac=function(t){return new(t||e)};static \u0275cmp=P({type:e,selectors:[["app-price-breakdown"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[[1,"price-breakdown"],[1,"price-row","subtotal"],[1,"label"],[1,"value"],[1,"price-row","discount"],[1,"price-row","paid"],[1,"price-row","refund"],[1,"divider"],[1,"price-row","total"],[1,"paid-badge"],[1,"refund-badge"],[1,"savings-badge"],[1,"session-section"],[1,"global-discounts-section"],[1,"session-header"],[1,"session-details"],[1,"addon-row"],[1,"addon-label"],[1,"addon-value"],[1,"session-subtotal-row"],[1,"discount-badge"],[1,"value","discount-value"],[1,"section-header"],[1,"price-row"],[1,"value","paid-value"],[1,"value","refund-value"],[1,"price-row",3,"fee","credit"]],template:function(t,a){if(t&1&&s(0,W,21,15,"div",0),t&2){let E;m((E=a.data())?0:-1,E)}},dependencies:[b],styles:[".price-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.875rem}.price-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--sys-on-surface-variant, #666);display:flex;align-items:center;gap:.375rem}.price-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--sys-on-surface, #212121);font-weight:500}.price-row.discount[_ngcontent-%COMP%]   .discount-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.discount-badge[_ngcontent-%COMP%]{font-size:1rem}.price-row.subtotal[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.price-row.paid[_ngcontent-%COMP%]   .paid-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.price-row.refund[_ngcontent-%COMP%]   .refund-value[_ngcontent-%COMP%], .price-row.fee[_ngcontent-%COMP%]   .fee-value[_ngcontent-%COMP%]{color:var(--sys-error, #c62828)}.price-row.credit[_ngcontent-%COMP%]   .credit-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.divider[_ngcontent-%COMP%]{height:1px;background:var(--sys-outline, #e0e0e0);margin:.25rem 0}.price-row.total[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}.price-row.total[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--sys-on-surface, #212121)}.price-row.total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--sys-primary, #c62828);font-size:1.25rem}.price-row.total[_ngcontent-%COMP%]   .value.paid-in-full[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.price-row.total[_ngcontent-%COMP%]   .value.refund-due[_ngcontent-%COMP%]{color:var(--sys-tertiary, #1565c0)}.savings-badge[_ngcontent-%COMP%], .paid-badge[_ngcontent-%COMP%], .refund-badge[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-on-secondary-container, #1b5e20);padding:.5rem .75rem;border-radius:8px;font-size:.875rem;text-align:center;font-weight:500}.paid-badge[_ngcontent-%COMP%]{font-weight:600}.refund-badge[_ngcontent-%COMP%]{background:var(--sys-tertiary-container, #e3f2fd);color:var(--sys-on-tertiary-container, #0d47a1);font-weight:600}.session-section[_ngcontent-%COMP%]{padding:.5rem 0}.session-section[_ngcontent-%COMP%] + .session-section[_ngcontent-%COMP%]{border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.session-header[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--sys-on-surface, #212121);margin-bottom:.25rem}.session-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding-left:.5rem}.addon-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.8125rem;color:var(--sys-on-surface-variant, #666)}.addon-label[_ngcontent-%COMP%]{color:var(--sys-on-surface-variant, #888)}.addon-value[_ngcontent-%COMP%]{font-weight:400}.session-subtotal-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.875rem;font-weight:500;color:var(--sys-on-surface, #212121);padding-top:.25rem}.global-discounts-section[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.section-header[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--sys-on-surface, #212121);margin-bottom:.25rem}"]})};export{I as a};

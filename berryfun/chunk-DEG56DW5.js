import{a as k,b as I}from"./chunk-XKJWOYIG.js";import{Da as M,Ea as S,Fa as O,d as b}from"./chunk-B4PSB7QN.js";import{Cb as C,Eb as a,Fb as l,Gb as p,Hb as f,Ia as n,Ta as P,Vb as u,Yb as y,bb as s,cb as m,db as w,fb as _,gb as x,lb as r,mb as i,nb as v,sb as c}from"./chunk-VKJSCVXY.js";var h=(t,o)=>o.sessionId,E=(t,o)=>o.type;function T(t,o){if(t&1&&(r(0,"div",15)(1,"span",16),a(2,"Lunch"),i(),r(3,"span",17),a(4),i()()),t&2){let e=c().$implicit,d=c(3);n(4),l(d.formatPrice(e.lunchPrice))}}function D(t,o){if(t&1&&(r(0,"div",15)(1,"span",16),a(2,"Extended Care"),i(),r(3,"span",17),a(4),i()()),t&2){let e=c().$implicit,d=c(3);n(4),l(d.formatPrice(e.extendedCarePrice))}}function F(t,o){if(t&1&&(r(0,"span",2),a(1),i(),r(2,"span",3),a(3),i()),t&2){let e=c().$implicit,d=c(3);n(),f("",d.formatPrice(e.perStudentPrice)," \xD7 ",e.studentCount),n(2),l(d.formatPrice(e.sessionSubtotal))}}function $(t,o){if(t&1&&(v(0,"span",2),r(1,"span",3),a(2),i()),t&2){let e=c().$implicit,d=c(3);n(2),l(d.formatPrice(e.perStudentPrice))}}function z(t,o){if(t&1&&(r(0,"div",4)(1,"span",2)(2,"span",19),a(3),i(),a(4),i(),r(5,"span",20),a(6),i()()),t&2){let e=o.$implicit,d=c(4);n(3),l(d.getDiscountIcon(e.type)),n(),p(" ",e.description," "),n(2),l(d.formatPrice(e.amount))}}function N(t,o){if(t&1&&(r(0,"div",11)(1,"div",13),a(2),i(),r(3,"div",14)(4,"div",15)(5,"span",16),a(6,"Base"),i(),r(7,"span",17),a(8),i()(),s(9,T,5,1,"div",15),s(10,D,5,1,"div",15),r(11,"div",18),s(12,F,4,3)(13,$,3,1),i(),_(14,z,7,3,"div",4,E),i()()),t&2){let e=o.$implicit,d=c(3);n(2),l(e.sessionName),n(6),l(d.formatPrice(e.basePrice)),n(),m(e.lunchPrice>0?9:-1),n(),m(e.extendedCarePrice>0?10:-1),n(2),m(e.studentCount>1?12:13),n(2),x(e.discounts)}}function j(t,o){if(t&1&&(r(0,"div",4)(1,"span",2)(2,"span",19),a(3),i(),a(4),i(),r(5,"span",20),a(6),i()()),t&2){let e=o.$implicit,d=c(4);n(3),l(d.getDiscountIcon(e.type)),n(),p(" ",e.description," "),n(2),l(d.formatPrice(e.amount))}}function R(t,o){if(t&1&&(r(0,"div",12)(1,"div",21),a(2,"Discounts"),i(),_(3,j,7,3,"div",4,E),i()),t&2){let e=c(2);n(3),x(e.pricing.globalDiscounts)}}function A(t,o){if(t&1&&(_(0,N,16,5,"div",11,h),s(2,R,5,0,"div",12)),t&2){let e=c();x(e.pricing.sessionBreakdowns),n(2),m(e.pricing.globalDiscounts&&e.pricing.globalDiscounts.length>0?2:-1)}}function L(t,o){if(t&1&&(r(0,"div",4)(1,"span",2)(2,"span",19),a(3),i(),a(4),i(),r(5,"span",20),a(6),i()()),t&2){let e=o.$implicit,d=c(3);n(3),l(d.getDiscountIcon(e.type)),n(),p(" ",e.description," "),n(2),l(d.formatPrice(e.amount))}}function Y(t,o){if(t&1&&(r(0,"div",22)(1,"span",2),a(2,"Subtotal"),i(),r(3,"span",3),a(4),i()(),_(5,L,7,3,"div",4,E)),t&2){let e=c(),d=c();n(4),l(d.formatPrice(e.pricing.subtotal)),n(),x(e.pricing.discounts)}}function q(t,o){if(t&1&&(r(0,"div",4)(1,"span",2)(2,"span",19),a(3,"\u{1F39F}\uFE0F"),i(),a(4," Coupon Credit "),i(),r(5,"span",20),a(6),i()()),t&2){let e=c(),d=c();n(6),p("-",d.formatPrice(e.couponCredit))}}function G(t,o){if(t&1&&(r(0,"div",5)(1,"span",2),a(2,"Paid"),i(),r(3,"span",23),a(4),i()()),t&2){let e=c(),d=c();n(4),p("-",d.formatPrice(e.totalPaid))}}function H(t,o){if(t&1&&(r(0,"div",6)(1,"span",2),a(2,"Refunded"),i(),r(3,"span",24),a(4),i()()),t&2){let e=c(),d=c();n(4),p("+",d.formatPrice(e.totalRefunded))}}function J(t,o){if(t&1&&(r(0,"div",22)(1,"span",2),a(2),i(),r(3,"span",3),a(4),i()()),t&2){let e=o.$implicit,d=c(3);C("fee",e.amount>0)("credit",e.amount<0),n(2),l(e.description),n(),C("fee-value",e.amount>0)("credit-value",e.amount<0),n(),f(" ",e.amount>=0?"+":"","",d.formatPrice(e.amount)," ")}}function K(t,o){if(t&1&&_(0,J,5,11,"div",25,w),t&2){let e=c();x(e.processingFees)}}function Q(t,o){t&1&&(r(0,"div",9),a(1,"Paid in Full"),i())}function U(t,o){if(t&1&&(r(0,"div",10),a(1),i()),t&2){let e=c(2);n(),p("You saved ",e.formatPrice(e.totalSavings()),"!")}}function V(t,o){if(t&1&&(r(0,"div",0),s(1,A,3,1)(2,Y,7,1),r(3,"div",1)(4,"span",2),a(5,"Order Total"),i(),r(6,"span",3),a(7),i()(),s(8,q,7,1,"div",4),s(9,G,5,1,"div",5),s(10,H,5,1,"div",6),s(11,K,2,0),v(12,"div",7),r(13,"div",8)(14,"span",2),a(15,"Amount Due"),i(),r(16,"span",3),a(17),i()(),s(18,Q,2,0,"div",9),s(19,U,2,1,"div",10),i()),t&2){let e=o,d=c();n(),m(d.hasBreakdowns()?1:2),n(6),l(d.formatPrice(d.orderTotal())),n(),m(e.couponCredit>0?8:-1),n(),m(e.totalPaid>0?9:-1),n(),m(e.totalRefunded>0?10:-1),n(),m(e.processingFees&&e.processingFees.length>0?11:-1),n(5),C("paid-in-full",e.amountDue===0),n(),p(" ",d.formatPrice(e.amountDue)," "),n(),m(e.amountDue===0&&e.totalPaid>0?18:-1),n(),m(d.totalSavings()>0?19:-1)}}var B=class t{formatPrice=k;getDiscountIcon=I;data=y(null);hasBreakdowns=u(()=>{let o=this.data();return!!o&&O(o.pricing.sessionBreakdowns)});orderTotal=u(()=>{let o=this.data();return o?M(o.pricing.subtotal,o.pricing.discounts):0});totalSavings=u(()=>{let o=this.data();return o?S(o.pricing.discounts,o.couponCredit):0});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=P({type:t,selectors:[["app-price-breakdown"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[[1,"price-breakdown"],[1,"price-row","subtotal"],[1,"label"],[1,"value"],[1,"price-row","discount"],[1,"price-row","paid"],[1,"price-row","refund"],[1,"divider"],[1,"price-row","total"],[1,"paid-badge"],[1,"savings-badge"],[1,"session-section"],[1,"global-discounts-section"],[1,"session-header"],[1,"session-details"],[1,"addon-row"],[1,"addon-label"],[1,"addon-value"],[1,"session-subtotal-row"],[1,"discount-badge"],[1,"value","discount-value"],[1,"section-header"],[1,"price-row"],[1,"value","paid-value"],[1,"value","refund-value"],[1,"price-row",3,"fee","credit"]],template:function(e,d){if(e&1&&s(0,V,20,11,"div",0),e&2){let g;m((g=d.data())?0:-1,g)}},dependencies:[b],styles:[".price-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.875rem}.price-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--sys-on-surface-variant, #666);display:flex;align-items:center;gap:.375rem}.price-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--sys-on-surface, #212121);font-weight:500}.price-row.discount[_ngcontent-%COMP%]   .discount-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.discount-badge[_ngcontent-%COMP%]{font-size:1rem}.price-row.subtotal[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.price-row.paid[_ngcontent-%COMP%]   .paid-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.price-row.refund[_ngcontent-%COMP%]   .refund-value[_ngcontent-%COMP%], .price-row.fee[_ngcontent-%COMP%]   .fee-value[_ngcontent-%COMP%]{color:var(--sys-error, #c62828)}.price-row.credit[_ngcontent-%COMP%]   .credit-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.divider[_ngcontent-%COMP%]{height:1px;background:var(--sys-outline, #e0e0e0);margin:.25rem 0}.price-row.total[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}.price-row.total[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--sys-on-surface, #212121)}.price-row.total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--sys-primary, #c62828);font-size:1.25rem}.price-row.total[_ngcontent-%COMP%]   .value.paid-in-full[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.savings-badge[_ngcontent-%COMP%], .paid-badge[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-on-secondary-container, #1b5e20);padding:.5rem .75rem;border-radius:8px;font-size:.875rem;text-align:center;font-weight:500}.paid-badge[_ngcontent-%COMP%]{font-weight:600}.session-section[_ngcontent-%COMP%]{padding:.5rem 0}.session-section[_ngcontent-%COMP%] + .session-section[_ngcontent-%COMP%]{border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.session-header[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--sys-on-surface, #212121);margin-bottom:.25rem}.session-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding-left:.5rem}.addon-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.8125rem;color:var(--sys-on-surface-variant, #666)}.addon-label[_ngcontent-%COMP%]{color:var(--sys-on-surface-variant, #888)}.addon-value[_ngcontent-%COMP%]{font-weight:400}.session-subtotal-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.875rem;font-weight:500;color:var(--sys-on-surface, #212121);padding-top:.25rem}.global-discounts-section[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.section-header[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--sys-on-surface, #212121);margin-bottom:.25rem}"]})};export{B as a};

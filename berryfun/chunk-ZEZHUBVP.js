import{a as N}from"./chunk-XYFRHGXZ.js";import{a as T,b as B}from"./chunk-XKJWOYIG.js";import{Ca as k,Da as D,Ea as I,d as b}from"./chunk-UBU22GLA.js";import{Ab as v,Bb as y,Cb as a,Db as c,Eb as p,Fb as O,Ia as i,Ta as P,Tb as g,Wb as x,bb as l,cb as m,fb as f,gb as C,hb as M,ib as _,jb as u,kb as h,lb as r,mb as d,nb as w,sb as s}from"./chunk-UKFGIOHC.js";var j=(e,n)=>n.sessionId,S=(e,n)=>n.type;function L(e,n){if(e&1&&(r(0,"div",15)(1,"span",16),a(2,"Lunch"),d(),r(3,"span",17),a(4),d()()),e&2){let t=s().$implicit,o=s(3);i(4),c(o.formatPrice(t.lunchPrice))}}function U(e,n){if(e&1&&(r(0,"div",15)(1,"span",16),a(2,"Extended Care"),d(),r(3,"span",17),a(4),d()()),e&2){let t=s().$implicit,o=s(3);i(4),c(o.formatPrice(t.extendedCarePrice))}}function q(e,n){if(e&1&&(r(0,"span",2),a(1),d(),r(2,"span",3),a(3),d()),e&2){let t=s().$implicit,o=s(3);i(),O("",o.formatPrice(t.perStudentPrice)," \xD7 ",t.studentCount),i(2),c(o.formatPrice(t.sessionSubtotal))}}function Y(e,n){if(e&1&&(w(0,"span",2),r(1,"span",3),a(2),d()),e&2){let t=s().$implicit,o=s(3);i(2),c(o.formatPrice(t.perStudentPrice))}}function H(e,n){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",19),a(3),d(),a(4),d(),r(5,"span",20),a(6),d()()),e&2){let t=n.$implicit,o=s(4);i(3),c(o.getDiscountIcon(t.type)),i(),p(" ",t.description," "),i(2),c(o.formatPrice(t.amount))}}function J(e,n){if(e&1&&(r(0,"div",11)(1,"div",13),a(2),d(),r(3,"div",14)(4,"div",15)(5,"span",16),a(6,"Base"),d(),r(7,"span",17),a(8),d()(),l(9,L,5,1,"div",15),l(10,U,5,1,"div",15),r(11,"div",18),l(12,q,4,3)(13,Y,3,1),d(),f(14,H,7,3,"div",4,S),d()()),e&2){let t=n.$implicit,o=s(3);i(2),c(t.sessionName),i(6),c(o.formatPrice(t.basePrice)),i(),m(t.lunchPrice>0?9:-1),i(),m(t.extendedCarePrice>0?10:-1),i(2),m(t.studentCount>1?12:13),i(2),C(t.discounts)}}function K(e,n){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",19),a(3),d(),a(4),d(),r(5,"span",20),a(6),d()()),e&2){let t=n.$implicit,o=s(4);i(3),c(o.getDiscountIcon(t.type)),i(),p(" ",t.description," "),i(2),c(o.formatPrice(t.amount))}}function Q(e,n){if(e&1&&(r(0,"div",12)(1,"div",21),a(2,"Discounts"),d(),f(3,K,7,3,"div",4,S),d()),e&2){let t=s(2);i(3),C(t.pricing.globalDiscounts)}}function V(e,n){if(e&1&&(f(0,J,16,5,"div",11,j),l(2,Q,5,0,"div",12)),e&2){let t=s();C(t.pricing.sessionBreakdowns),i(2),m(t.pricing.globalDiscounts&&t.pricing.globalDiscounts.length>0?2:-1)}}function W(e,n){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",19),a(3),d(),a(4),d(),r(5,"span",20),a(6),d()()),e&2){let t=n.$implicit,o=s(3);i(3),c(o.getDiscountIcon(t.type)),i(),p(" ",t.description," "),i(2),c(o.formatPrice(t.amount))}}function X(e,n){if(e&1&&(r(0,"div",22)(1,"span",2),a(2,"Subtotal"),d(),r(3,"span",3),a(4),d()(),f(5,W,7,3,"div",4,S)),e&2){let t=s(),o=s();i(4),c(o.formatPrice(t.pricing.subtotal)),i(),C(t.pricing.discounts)}}function Z(e,n){if(e&1&&(r(0,"div",4)(1,"span",2)(2,"span",19),a(3,"\u{1F39F}\uFE0F"),d(),a(4," Coupon Credit "),d(),r(5,"span",20),a(6),d()()),e&2){let t=s(),o=s();i(6),p("-",o.formatPrice(t.couponCredit))}}function tt(e,n){if(e&1&&(r(0,"div",5)(1,"span",2),a(2,"Paid"),d(),r(3,"span",23),a(4),d()()),e&2){let t=s(),o=s();i(4),p("-",o.formatPrice(t.totalPaid))}}function et(e,n){if(e&1&&(r(0,"div",6)(1,"span",2),a(2,"Refunded"),d(),r(3,"span",24),a(4),d()()),e&2){let t=s(),o=s();i(4),p("+",o.formatPrice(t.totalRefunded))}}function nt(e,n){e&1&&(r(0,"div",9),a(1,"Paid in Full"),d())}function ot(e,n){if(e&1&&(r(0,"div",10),a(1),d()),e&2){let t=s(2);i(),p("You saved ",t.formatPrice(t.totalSavings()),"!")}}function it(e,n){if(e&1&&(r(0,"div",0),l(1,V,3,1)(2,X,7,1),r(3,"div",1)(4,"span",2),a(5,"Order Total"),d(),r(6,"span",3),a(7),d()(),l(8,Z,7,1,"div",4),l(9,tt,5,1,"div",5),l(10,et,5,1,"div",6),w(11,"div",7),r(12,"div",8)(13,"span",2),a(14,"Amount Due"),d(),r(15,"span",3),a(16),d()(),l(17,nt,2,0,"div",9),l(18,ot,2,1,"div",10),d()),e&2){let t=n,o=s();i(),m(o.hasBreakdowns()?1:2),i(6),c(o.formatPrice(o.orderTotal())),i(),m(t.couponCredit>0?8:-1),i(),m(t.totalPaid>0?9:-1),i(),m(t.totalRefunded>0?10:-1),i(5),v("paid-in-full",t.amountDue===0),i(),p(" ",o.formatPrice(t.amountDue)," "),i(),m(t.amountDue===0&&t.totalPaid>0?17:-1),i(),m(o.totalSavings()>0?18:-1)}}var F=class e{formatPrice=T;getDiscountIcon=B;data=x(null);hasBreakdowns=g(()=>{let n=this.data();return!!n&&I(n.pricing.sessionBreakdowns)});orderTotal=g(()=>{let n=this.data();return n?k(n.pricing.subtotal,n.pricing.discounts):0});totalSavings=g(()=>{let n=this.data();return n?D(n.pricing.discounts,n.couponCredit):0});static \u0275fac=function(t){return new(t||e)};static \u0275cmp=P({type:e,selectors:[["app-price-breakdown"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[[1,"price-breakdown"],[1,"price-row","subtotal"],[1,"label"],[1,"value"],[1,"price-row","discount"],[1,"price-row","paid"],[1,"price-row","refund"],[1,"divider"],[1,"price-row","total"],[1,"paid-badge"],[1,"savings-badge"],[1,"session-section"],[1,"global-discounts-section"],[1,"session-header"],[1,"session-details"],[1,"addon-row"],[1,"addon-label"],[1,"addon-value"],[1,"session-subtotal-row"],[1,"discount-badge"],[1,"value","discount-value"],[1,"section-header"],[1,"price-row"],[1,"value","paid-value"],[1,"value","refund-value"]],template:function(t,o){if(t&1&&l(0,it,19,10,"div",0),t&2){let E;m((E=o.data())?0:-1,E)}},dependencies:[b],styles:[".price-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.price-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.875rem}.price-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--sys-on-surface-variant, #666);display:flex;align-items:center;gap:.375rem}.price-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--sys-on-surface, #212121);font-weight:500}.price-row.discount[_ngcontent-%COMP%]   .discount-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.discount-badge[_ngcontent-%COMP%]{font-size:1rem}.price-row.subtotal[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.price-row.paid[_ngcontent-%COMP%]   .paid-value[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.price-row.refund[_ngcontent-%COMP%]   .refund-value[_ngcontent-%COMP%]{color:var(--sys-error, #c62828)}.divider[_ngcontent-%COMP%]{height:1px;background:var(--sys-outline, #e0e0e0);margin:.25rem 0}.price-row.total[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}.price-row.total[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--sys-on-surface, #212121)}.price-row.total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--sys-primary, #c62828);font-size:1.25rem}.price-row.total[_ngcontent-%COMP%]   .value.paid-in-full[_ngcontent-%COMP%]{color:var(--sys-secondary, #2e7d32)}.savings-badge[_ngcontent-%COMP%], .paid-badge[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-on-secondary-container, #1b5e20);padding:.5rem .75rem;border-radius:8px;font-size:.875rem;text-align:center;font-weight:500}.paid-badge[_ngcontent-%COMP%]{font-weight:600}.session-section[_ngcontent-%COMP%]{padding:.5rem 0}.session-section[_ngcontent-%COMP%] + .session-section[_ngcontent-%COMP%]{border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.session-header[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--sys-on-surface, #212121);margin-bottom:.25rem}.session-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding-left:.5rem}.addon-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.8125rem;color:var(--sys-on-surface-variant, #666)}.addon-label[_ngcontent-%COMP%]{color:var(--sys-on-surface-variant, #888)}.addon-value[_ngcontent-%COMP%]{font-weight:400}.session-subtotal-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.875rem;font-weight:500;color:var(--sys-on-surface, #212121);padding-top:.25rem}.global-discounts-section[_ngcontent-%COMP%]{padding-top:.5rem;border-top:1px dashed var(--sys-outline-variant, #e0e0e0)}.section-header[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--sys-on-surface, #212121);margin-bottom:.25rem}"]})};var at=(e,n)=>n.studentId??n.studentName;function dt(e,n){if(e&1&&(_(0,"div",9),a(1),u()),e&2){let t=s();y("badge-"+t.data().status),i(),p(" ",t.statusText()," ")}}function rt(e,n){if(e&1&&(_(0,"span",12),a(1),u()),e&2){let t=s().$implicit,o=s();y("status-"+t.status),i(),p(" ",o.getStudentStatusText(t.status)," ")}}function st(e,n){if(e&1&&(_(0,"span",10),a(1),l(2,rt,2,3,"span",11),u()),e&2){let t=n.$implicit,o=s();v("cancelled",t.status==="cancelled"),i(),p(" ",t.studentName," "),i(),m(o.shouldShowStudentStatus()&&t.status?2:-1)}}function ct(e,n){if(e&1&&(_(0,"div",8),h(1,"app-option-badges",13),u()),e&2){let t=s();i(),M("options",t.groupOptions())}}var R=class e{data=x.required();showGroupStatus=x(!0);showStudentStatus=x(void 0);shouldShowStudentStatus=g(()=>{let n=this.showStudentStatus();return n!==void 0?n:this.data().status==="mixed"});statusText=g(()=>{let n=this.data().status;return{locked:"Awaiting Screenshot",submitted:"Pending",paid:"Paid",cancelled:"Cancelled",mixed:"Mixed"}[n??""]??n});groupOptions=g(()=>{let n=this.data().students;return n.length===0?{lunch:!1,extendedCare:!1}:n[0].options});hasAddons=g(()=>{let n=this.groupOptions();return n.lunch||n.extendedCare});formatDateRange(){let{startDate:n,endDate:t}=this.data(),o=new Date(n),E=new Date(t),z=o.toLocaleDateString("en-US",{month:"short",day:"numeric"}),$=E.toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${z} - ${$}`}getStudentStatusText(n){return{locked:"Locked",submitted:"Pending",paid:"Paid",cancelled:"Cancelled"}[n]??n}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=P({type:e,selectors:[["app-class-registration-card"]],inputs:{data:[1,"data"],showGroupStatus:[1,"showGroupStatus"],showStudentStatus:[1,"showStudentStatus"]},decls:12,vars:14,consts:[[1,"registration-card"],[1,"card-header"],[1,"class-info"],[1,"class-name"],[1,"class-dates"],[1,"status-badge",3,"class"],[1,"students-row"],[1,"student-chip",3,"cancelled"],[1,"addons-row"],[1,"status-badge"],[1,"student-chip"],[1,"student-status",3,"class"],[1,"student-status"],[3,"options"]],template:function(t,o){t&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a(4),u(),_(5,"span",4),a(6),u()(),l(7,dt,2,3,"div",5),u(),_(8,"div",6),f(9,st,3,4,"span",7,at),u(),l(11,ct,2,1,"div",8),u()),t&2&&(v("status-locked",o.data().status==="locked")("status-submitted",o.data().status==="submitted")("status-paid",o.data().status==="paid")("status-cancelled",o.data().status==="cancelled")("status-mixed",o.data().status==="mixed"),i(4),c(o.data().className),i(2),c(o.formatDateRange()),i(),m(o.data().status&&o.showGroupStatus()?7:-1),i(2),C(o.data().students),i(2),m(o.hasAddons()?11:-1))},dependencies:[b,N],styles:[".registration-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--sys-outline, #e0e0e0);border-radius:8px;overflow:hidden}.registration-card.status-locked[_ngcontent-%COMP%]{border-left:4px solid #7b1fa2}.registration-card.status-submitted[_ngcontent-%COMP%]{border-left:4px solid #ff9800}.registration-card.status-paid[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.registration-card.status-cancelled[_ngcontent-%COMP%]{border-left:4px solid #9e9e9e;opacity:.7}.registration-card.status-mixed[_ngcontent-%COMP%]{border-left:4px solid #2196f3}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.75rem;padding:.75rem 1rem;background:var(--sys-surface-variant, #f5f5f5);border-bottom:1px solid var(--sys-outline-variant, #e0e0e0)}.class-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;flex:1;min-width:0}.class-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:var(--sys-on-surface, #212121);line-height:1.3}.class-dates[_ngcontent-%COMP%]{font-size:.75rem;color:var(--sys-on-surface-variant, #666)}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500;white-space:nowrap;flex-shrink:0}.status-badge.badge-locked[_ngcontent-%COMP%]{background:#f3e5f5;color:#6a1b9a}.status-badge.badge-submitted[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-badge.badge-paid[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-secondary, #2e7d32)}.status-badge.badge-cancelled[_ngcontent-%COMP%]{background:var(--sys-surface-variant, #f5f5f5);color:var(--sys-on-surface-variant, #666)}.status-badge.badge-mixed[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.students-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding:.625rem 1rem}.student-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.25rem .625rem;background:var(--sys-primary-container, #ffebee);border:1px solid var(--sys-primary, #c62828);border-radius:16px;font-size:.8125rem;font-weight:500;color:var(--sys-primary, #c62828)}.student-chip.cancelled[_ngcontent-%COMP%]{opacity:.6;background:var(--sys-surface-variant, #f5f5f5);border-color:var(--sys-outline, #9e9e9e);color:var(--sys-on-surface-variant, #666)}.student-status[_ngcontent-%COMP%]{font-size:.625rem;padding:.0625rem .375rem;border-radius:8px;font-weight:600}.student-status.status-locked[_ngcontent-%COMP%]{background:#f3e5f5;color:#6a1b9a}.student-status.status-submitted[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.student-status.status-paid[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-secondary, #2e7d32)}.student-status.status-cancelled[_ngcontent-%COMP%]{background:#fff;color:var(--sys-on-surface-variant, #666)}.addons-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding:.5rem 1rem;border-top:1px solid var(--sys-outline-variant, #f0f0f0)}"]})};export{F as a,R as b};

import{d as h}from"./chunk-2LEHUDM5.js";import{Ab as i,Bb as C,Cb as p,Ha as s,Rb as u,Sa as x,Ub as m,ab as r,bb as c,db as b,eb as v,jb as d,kb as o,qb as l,yb as g,zb as f}from"./chunk-EVJ2WVWM.js";var w=(n,t)=>t.studentId??t.studentName;function E(n,t){if(n&1&&(d(0,"div",9),i(1),o()),n&2){let e=l();f("badge-"+e.data().status),s(),p(" ",e.statusText()," ")}}function P(n,t){if(n&1&&(d(0,"span",12),i(1),o()),n&2){let e=l().$implicit,a=l();f("status-"+e.status),s(),p(" ",a.getStudentStatusText(e.status)," ")}}function O(n,t){if(n&1&&(d(0,"span",10),i(1),r(2,P,2,3,"span",11),o()),n&2){let e=t.$implicit,a=l();g("cancelled",e.status==="cancelled"),s(),p(" ",e.studentName," "),s(),c(a.shouldShowStudentStatus()&&e.status?2:-1)}}function D(n,t){n&1&&(d(0,"span",13),i(1,"\u{1F371} Lunch"),o())}function R(n,t){n&1&&(d(0,"span",13),i(1,"\u23F0 Extended Care"),o())}function k(n,t){if(n&1&&(d(0,"div",8),r(1,D,2,0,"span",13),r(2,R,2,0,"span",13),o()),n&2){let e=l();s(),c(e.groupOptions().lunch?1:-1),s(),c(e.groupOptions().extendedCare?2:-1)}}var _=class n{data=m.required();showGroupStatus=m(!0);showStudentStatus=m(void 0);shouldShowStudentStatus=u(()=>{let t=this.showStudentStatus();return t!==void 0?t:this.data().status==="mixed"});statusText=u(()=>{let t=this.data().status;return{submitted:"Pending",paid:"Paid",cancelled:"Cancelled",mixed:"Mixed"}[t??""]??t});groupOptions=u(()=>{let t=this.data().students;return t.length===0?{lunch:!1,extendedCare:!1}:t[0].options});hasAddons=u(()=>{let t=this.groupOptions();return t.lunch||t.extendedCare});formatDateRange(){let{startDate:t,endDate:e}=this.data(),a=new Date(t),y=new Date(e),S=a.toLocaleDateString("en-US",{month:"short",day:"numeric"}),M=y.toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${S} - ${M}`}getStudentStatusText(t){return{submitted:"Pending",paid:"Paid",cancelled:"Cancelled"}[t]??t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-class-registration-card"]],inputs:{data:[1,"data"],showGroupStatus:[1,"showGroupStatus"],showStudentStatus:[1,"showStudentStatus"]},decls:12,vars:12,consts:[[1,"registration-card"],[1,"card-header"],[1,"class-info"],[1,"class-name"],[1,"class-dates"],[1,"status-badge",3,"class"],[1,"students-row"],[1,"student-chip",3,"cancelled"],[1,"addons-row"],[1,"status-badge"],[1,"student-chip"],[1,"student-status",3,"class"],[1,"student-status"],[1,"addon-chip"]],template:function(e,a){e&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),i(4),o(),d(5,"span",4),i(6),o()(),r(7,E,2,3,"div",5),o(),d(8,"div",6),b(9,O,3,4,"span",7,w),o(),r(11,k,3,2,"div",8),o()),e&2&&(g("status-submitted",a.data().status==="submitted")("status-paid",a.data().status==="paid")("status-cancelled",a.data().status==="cancelled")("status-mixed",a.data().status==="mixed"),s(4),C(a.data().className),s(2),C(a.formatDateRange()),s(),c(a.data().status&&a.showGroupStatus()?7:-1),s(2),v(a.data().students),s(2),c(a.hasAddons()?11:-1))},dependencies:[h],styles:[".registration-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--sys-outline, #e0e0e0);border-radius:8px;overflow:hidden}.registration-card.status-submitted[_ngcontent-%COMP%]{border-left:4px solid #ff9800}.registration-card.status-paid[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.registration-card.status-cancelled[_ngcontent-%COMP%]{border-left:4px solid #9e9e9e;opacity:.7}.registration-card.status-mixed[_ngcontent-%COMP%]{border-left:4px solid #2196f3}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.75rem;padding:.75rem 1rem;background:var(--sys-surface-variant, #f5f5f5);border-bottom:1px solid var(--sys-outline-variant, #e0e0e0)}.class-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;flex:1;min-width:0}.class-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:var(--sys-on-surface, #212121);line-height:1.3}.class-dates[_ngcontent-%COMP%]{font-size:.75rem;color:var(--sys-on-surface-variant, #666)}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500;white-space:nowrap;flex-shrink:0}.status-badge.badge-submitted[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-badge.badge-paid[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-secondary, #2e7d32)}.status-badge.badge-cancelled[_ngcontent-%COMP%]{background:var(--sys-surface-variant, #f5f5f5);color:var(--sys-on-surface-variant, #666)}.status-badge.badge-mixed[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.students-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding:.625rem 1rem}.student-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.25rem .625rem;background:var(--sys-primary-container, #ffebee);border:1px solid var(--sys-primary, #c62828);border-radius:16px;font-size:.8125rem;font-weight:500;color:var(--sys-primary, #c62828)}.student-chip.cancelled[_ngcontent-%COMP%]{opacity:.6;background:var(--sys-surface-variant, #f5f5f5);border-color:var(--sys-outline, #9e9e9e);color:var(--sys-on-surface-variant, #666)}.student-status[_ngcontent-%COMP%]{font-size:.625rem;padding:.0625rem .375rem;border-radius:8px;font-weight:600}.student-status.status-submitted[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.student-status.status-paid[_ngcontent-%COMP%]{background:var(--sys-secondary-container, #e8f5e9);color:var(--sys-secondary, #2e7d32)}.student-status.status-cancelled[_ngcontent-%COMP%]{background:#fff;color:var(--sys-on-surface-variant, #666)}.addons-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;padding:.5rem 1rem;border-top:1px solid var(--sys-outline-variant, #f0f0f0)}.addon-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;background:var(--sys-surface-variant, #f5f5f5);border:1px solid var(--sys-outline-variant, #e0e0e0);border-radius:16px;font-size:.8125rem;font-weight:500;color:var(--sys-on-surface, #212121);white-space:nowrap}"]})};export{_ as a};

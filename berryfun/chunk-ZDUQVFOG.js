import{a as M}from"./chunk-TPMJLM3G.js";import{Y as k,Z as P,ba as h,d as b,j as S}from"./chunk-JDDKB7VA.js";import"./chunk-UYHN5VVP.js";import{Ea as c,N as v,Pa as y,S as m,T as g,Za as p,_a as _,da as w,db as u,eb as e,fb as n,gb as s,kb as x,mb as C,ob as l,wb as f,yb as o}from"./chunk-DU5POHF6.js";import"./chunk-Q7L6LLAK.js";function A(t,r){t&1&&(e(0,"div",10),s(1,"div",16),e(2,"span"),o(3,"Loading..."),n()())}function E(t,r){if(t&1&&s(0,"app-markdown-renderer",11),t&2){let i=l(2);u("content",i.releaseAgreementContent())}}function F(t,r){t&1&&(e(0,"div",12)(1,"p"),o(2,"No liability release content has been configured."),n(),e(3,"p",17),o(4,"Please contact the administrator."),n()())}function T(t,r){if(t&1){let i=x();e(0,"div",6)(1,"div",7)(2,"h1"),o(3,"Stage 1: Liability Release"),n(),e(4,"p",8),o(5,"Legal Acknowledgement Required"),n()(),e(6,"div",9),p(7,A,4,0,"div",10)(8,E,1,1,"app-markdown-renderer",11)(9,F,5,0,"div",12),n(),e(10,"div",13)(11,"button",14),C("click",function(){m(i);let d=l();return g(d.goBack())}),o(12,"Go Back"),n(),e(13,"button",15),C("click",function(){m(i);let d=l();return g(d.nextStage())}),o(14," Continue "),n()()()}if(t&2){let i=l();c(7),_(i.configService.loading()?7:i.releaseAgreementContent()?8:9),c(6),u("disabled",!i.releaseAgreementContent())}}function V(t,r){t&1&&(e(0,"div",10),s(1,"div",16),e(2,"span"),o(3,"Loading..."),n()())}function I(t,r){if(t&1&&s(0,"app-markdown-renderer",11),t&2){let i=l(2);u("content",i.returnInstructionsContent())}}function z(t,r){t&1&&(e(0,"div",12)(1,"p"),o(2,"No financial terms content has been configured."),n(),e(3,"p",17),o(4,"Please contact the administrator."),n()())}function N(t,r){if(t&1){let i=x();e(0,"div",6)(1,"div",7)(2,"h1"),o(3,"Stage 2: Financial Terms"),n(),e(4,"p",8),o(5,"Strict Refund Policy Agreement"),n()(),e(6,"div",9),p(7,V,4,0,"div",10)(8,I,1,1,"app-markdown-renderer",11)(9,z,5,0,"div",12),n(),e(10,"div",13)(11,"button",14),C("click",function(){m(i);let d=l();return g(d.previousStage())}),o(12,"Back"),n(),e(13,"button",15),C("click",function(){m(i);let d=l();return g(d.nextStage())}),o(14," Continue "),n()()()}if(t&2){let i=l();c(7),_(i.configService.loading()?7:i.returnInstructionsContent()?8:9),c(6),u("disabled",!i.returnInstructionsContent())}}function L(t,r){t&1&&(e(0,"div",10),s(1,"div",16),e(2,"span"),o(3,"Loading..."),n()())}function R(t,r){if(t&1&&s(0,"app-markdown-renderer",11),t&2){let i=l(2);u("content",i.mediaPolicyContent())}}function j(t,r){t&1&&(e(0,"div",12)(1,"p"),o(2,"No media policy content has been configured."),n(),e(3,"p",17),o(4,"Please contact the administrator."),n()())}function B(t,r){if(t&1){let i=x();e(0,"div",6)(1,"div",7)(2,"h1"),o(3,"Stage 3: Media Policy"),n(),e(4,"p",8),o(5,"Photo & Video Consent"),n()(),e(6,"div",9),p(7,L,4,0,"div",10)(8,R,1,1,"app-markdown-renderer",11)(9,j,5,0,"div",12),n(),e(10,"div",13)(11,"button",14),C("click",function(){m(i);let d=l();return g(d.previousStage())}),o(12,"Back"),n(),e(13,"button",18),C("click",function(){m(i);let d=l();return g(d.completeAcknowledgement())}),o(14," I Fully Agree & Consent "),n()()()}if(t&2){let i=l();c(7),_(i.configService.loading()?7:i.mediaPolicyContent()?8:9),c(6),u("disabled",!i.mediaPolicyContent())}}var O=class t{configService=v(k);seasonService=v(P);acknowledgementService=v(h);router=v(S);currentStage=w(1);ngOnInit(){this.configService.isSystemInitialized()||this.configService.fetchConfig()}releaseAgreementContent(){return this.configService.releaseAgreementContent()?.content??""}returnInstructionsContent(){return this.configService.returnInstructions()?.content??""}mediaPolicyContent(){return this.configService.mediaPolicyContent()?.content??""}nextStage(){this.currentStage()<3&&this.currentStage.update(r=>r+1)}previousStage(){this.currentStage()>1&&this.currentStage.update(r=>r-1)}goBack(){this.router.navigate(["/"])}completeAcknowledgement(){let r=this.seasonService.selectedSeason();if(!r){console.error("No season selected"),this.router.navigate(["/"]);return}this.acknowledgementService.saveAcknowledgement(r.id),this.router.navigate(["/ledger"])}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=y({type:t,selectors:[["app-acknowledgement-flow"]],decls:22,vars:17,consts:[[1,"acknowledgement-flow"],[1,"progress-indicator"],[1,"step"],[1,"step-number"],[1,"step-label"],[1,"step-connector"],[1,"stage-content"],[1,"stage-header"],[1,"subtitle"],[1,"content-card"],[1,"loading"],[3,"content"],[1,"empty-content"],[1,"stage-actions"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click","disabled"],[1,"spinner"],[1,"note"],[1,"btn-primary","btn-confirm",3,"click","disabled"]],template:function(i,a){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o(4,"1"),n(),e(5,"span",4),o(6,"Liability Release"),n()(),s(7,"div",5),e(8,"div",2)(9,"span",3),o(10,"2"),n(),e(11,"span",4),o(12,"Financial Terms"),n()(),s(13,"div",5),e(14,"div",2)(15,"span",3),o(16,"3"),n(),e(17,"span",4),o(18,"Media Policy"),n()()(),p(19,T,15,2,"div",6),p(20,N,15,2,"div",6),p(21,B,15,2,"div",6),n()),i&2&&(c(2),f("active",a.currentStage()===1)("completed",a.currentStage()>1),c(5),f("completed",a.currentStage()>1),c(),f("active",a.currentStage()===2)("completed",a.currentStage()>2),c(5),f("completed",a.currentStage()>2),c(),f("active",a.currentStage()===3),c(5),_(a.currentStage()===1?19:-1),c(),_(a.currentStage()===2?20:-1),c(),_(a.currentStage()===3?21:-1))},dependencies:[b,M],styles:[".acknowledgement-flow[_ngcontent-%COMP%]{min-height:100vh;background:var(--sys-surface, #fafafa);padding:2rem 1rem}.progress-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:2rem;padding:0 2rem}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.step-number[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:var(--sys-outline, #e0e0e0);color:var(--sys-on-surface-variant, #666);display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1rem;transition:all .3s ease}.step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:var(--sys-primary, #c62828);color:#fff;box-shadow:0 2px 8px #c628284d}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:var(--sys-tertiary, #2e7d32);color:#fff}.step-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--sys-on-surface-variant, #666);white-space:nowrap}.step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:var(--sys-primary, #c62828);font-weight:600}.step-connector[_ngcontent-%COMP%]{width:80px;height:3px;background:var(--sys-outline, #e0e0e0);margin:0 1rem 1.5rem;transition:background .3s ease}.step-connector.completed[_ngcontent-%COMP%]{background:var(--sys-tertiary, #2e7d32)}.stage-content[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.stage-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.stage-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.75rem;color:var(--sys-on-surface, #212121)}.stage-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:var(--sys-on-surface-variant, #666);font-size:1rem}.content-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--sys-outline-variant, #e0e0e0);border-radius:16px;padding:2rem;margin-bottom:1.5rem;max-height:60vh;overflow-y:auto;box-shadow:0 2px 8px #0000000d}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;padding:2rem;color:var(--sys-on-surface-variant, #666)}.spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid var(--sys-outline, #e0e0e0);border-top-color:var(--sys-primary, #c62828);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-content[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--sys-on-surface-variant, #666)}.empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.empty-content[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{font-size:.875rem;color:var(--sys-on-surface-variant, #999)}.stage-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:1rem 2rem;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;border:none}.btn-primary[_ngcontent-%COMP%]{background:var(--sys-primary, #c62828);color:#fff;flex:1}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--sys-primary-dark, #a51c1c);box-shadow:0 4px 12px #c628284d}.btn-primary[_ngcontent-%COMP%]:disabled{background:var(--sys-outline, #e0e0e0);color:var(--sys-on-surface-variant, #999);cursor:not-allowed}.btn-primary.btn-confirm[_ngcontent-%COMP%]{background:var(--sys-tertiary, #2e7d32)}.btn-primary.btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background:#1b5e20;box-shadow:0 4px 12px #2e7d324d}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:var(--sys-on-surface-variant, #666);border:1px solid var(--sys-outline, #e0e0e0)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--sys-surface-variant, #f5f5f5)}@media(max-width:600px){.acknowledgement-flow[_ngcontent-%COMP%]{padding:1rem}.progress-indicator[_ngcontent-%COMP%]{padding:0}.step-connector[_ngcontent-%COMP%]{width:40px}.step-label[_ngcontent-%COMP%]{font-size:.75rem}.content-card[_ngcontent-%COMP%]{padding:1rem;max-height:50vh}.stage-actions[_ngcontent-%COMP%]{flex-direction:column}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}}"]})};export{O as AcknowledgementFlowComponent};
